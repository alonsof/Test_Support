<?xml version="1.0" encoding="utf-8"?>
<xliff version="1.2" xsi:schemaLocation="urn:oasis:names:tc:xliff:document:1.2 xliff-core-1.2-transitional.xsd" xmlns="urn:oasis:names:tc:xliff:document:1.2" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <file datatype="xml" source-language="en-US" target-language="zh-TW" original="file.ddue" tool-id="caps" product-name="n/a" product-version="n/a" build-num="n/a">
    <header>
      <tool tool-id="caps" tool-name="CAPS" tool-version="2.0" tool-company="Microsoft">
        <xliffext:info xsi:schemaLocation="urn:microsoft:content:schema:xliffextensions xliffext-xliffextension.xsd" xmlns:xliffext="urn:microsoft:content:schema:xliffextensions">
          <xliffext:uhg>ogAAAB+LCAAAAAAABAANymEKgzAMhuGr9AANNDU27U6wAwj7nWjDBKfgKshOv8LH++d7zIaqFGeolQgILYCGrDAHlFSKoUjxjnXRETtgGRCIBEEy9yxmEcecOHNXIaU55tBBNSAuAspjhmUoJhS1mKl36N3vDdPLu3tbzerdHudxNO9iXz+f10f26ZT9u0lbj/0P/67mXaIAAAA=</xliffext:uhg>
        </xliffext:info>
      </tool>
    </header>
    <body>
      <group extype="metadata">
        <group id="1">
          <trans-unit id="1" translate="yes" xml:space="preserve">
            <source>How to integrate a WCF Workflow Service with Service Bus Queues and Topics</source>
            <target state="new">How to integrate a WCF Workflow Service with Service Bus Queues and Topics</target>
            <context-group>
              <context context-type="x-metadataname">name</context>
            </context-group>
          </trans-unit>
        </group>
      </group>
      <group extype="content">
        <group id="2">
          <trans-unit id="2" translate="yes" xml:space="preserve">
            <source>This document describes how to integrate a WCF workflow service with <ph id="1">&lt;token&gt;sb1&lt;/token&gt;</ph> queues and topics.</source>
            <target state="new">This document describes how to integrate a WCF workflow service with <ph id="1">&lt;token&gt;sb1&lt;/token&gt;</ph> queues and topics.</target>
          </trans-unit>
          <trans-unit id="3" translate="yes" xml:space="preserve">
            <source>The topic walks you through how to build a WCF workflow service that uses queues and topics to exchange messages with a client application.</source>
            <target state="new">The topic walks you through how to build a WCF workflow service that uses queues and topics to exchange messages with a client application.</target>
          </trans-unit>
          <trans-unit id="4" translate="yes" xml:space="preserve">
            <source>As a companion to this guide, see the article <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Using Azure Service Bus Messaging<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://www.codeproject.com/KB/azure/UsingAzureServiceBus.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> by Roman Kiss, which provides a more sophisticated solution to the same problem, and a set of reusable activities that you can use in a WCF workflow service to interact with <ph id="4">&lt;token&gt;sb2&lt;/token&gt;</ph> queues and topics.</source>
            <target state="new">As a companion to this guide, see the article <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Using Azure Service Bus Messaging<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://www.codeproject.com/KB/azure/UsingAzureServiceBus.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> by Roman Kiss, which provides a more sophisticated solution to the same problem, and a set of reusable activities that you can use in a WCF workflow service to interact with <ph id="4">&lt;token&gt;sb2&lt;/token&gt;</ph> queues and topics.</target>
          </trans-unit>
        </group>
        <group id="3">
          <trans-unit id="5" translate="yes" xml:space="preserve">
            <source><ph id="1">&lt;token&gt;crabout&lt;/token&gt;</ph> <ph id="2">&lt;token&gt;sb1&lt;/token&gt;</ph>, see the following resources:</source>
            <target state="new"><ph id="1">&lt;token&gt;crabout&lt;/token&gt;</ph> <ph id="2">&lt;token&gt;sb1&lt;/token&gt;</ph>, see the following resources:</target>
          </trans-unit>
        </group>
        <group id="4">
          <trans-unit id="6" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Now Available: The Service Bus September 2011 Release<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://azure.microsoft.com/blog/2011/09/16/now-available-the-service-bus-september-2011-release/&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> article on the Azure Blog.</source>
            <target state="new"><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Now Available: The Service Bus September 2011 Release<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://azure.microsoft.com/blog/2011/09/16/now-available-the-service-bus-september-2011-release/&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> article on the Azure Blog.</target>
          </trans-unit>
        </group>
        <group id="5">
          <trans-unit id="7" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Queues, Topics, and Subscriptions<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/hh367516.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> article on the MSDN site.</source>
            <target state="new"><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Queues, Topics, and Subscriptions<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/hh367516.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> article on the MSDN site.</target>
          </trans-unit>
        </group>
        <group id="6">
          <trans-unit id="8" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Service Bus<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/ee732537.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> resources page on the MSDN site.</source>
            <target state="new"><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Service Bus<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/ee732537.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> resources page on the MSDN site.</target>
          </trans-unit>
        </group>
        <group id="7">
          <trans-unit id="9" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Azure Service Bus<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://azure.microsoft.com/documentation/articles/fundamentals-service-bus-hybrid-solutions/&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> overview on the Azure.microsoft.com site.</source>
            <target state="new"><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Azure Service Bus<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://azure.microsoft.com/documentation/articles/fundamentals-service-bus-hybrid-solutions/&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> overview on the Azure.microsoft.com site.</target>
          </trans-unit>
        </group>
        <group id="8">
          <trans-unit id="10" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Service Bus Explorer<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept>.</source>
            <target state="new"><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Service Bus Explorer<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;https://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="9">
          <trans-unit id="11" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>How to Integrate a BizTalk Server Application with Service Bus Queues and Topics<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;https://code.msdn.microsoft.com/windowsazure/How-to-integrate-a-BizTalk-1079811b&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> sample on the Azure site.</source>
            <target state="new"><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>How to Integrate a BizTalk Server Application with Service Bus Queues and Topics<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;https://code.msdn.microsoft.com/windowsazure/How-to-integrate-a-BizTalk-1079811b&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> sample on the Azure site.</target>
          </trans-unit>
        </group>
        <group id="10">
          <trans-unit id="12" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Understanding Azure AppFabric Queues (and Topics)<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://blogs.msdn.com/b/clemensv/archive/2011/06/10/understanding-windows-azure-appfabric-queues-and-topics.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> video on the AppFabric team blog.</source>
            <target state="new"><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Understanding Azure AppFabric Queues (and Topics)<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://blogs.msdn.com/b/clemensv/archive/2011/06/10/understanding-windows-azure-appfabric-queues-and-topics.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> video on the AppFabric team blog.</target>
          </trans-unit>
        </group>
        <group id="11">
          <trans-unit id="13" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Building loosely-coupled apps with Azure Service Bus Topics and Queues<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://channel9.msdn.com/Events/BUILD/BUILD2011/SAC-862T&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> video on the channel9 site.</source>
            <target state="new"><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Building loosely-coupled apps with Azure Service Bus Topics and Queues<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://channel9.msdn.com/Events/BUILD/BUILD2011/SAC-862T&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> video on the channel9 site.</target>
          </trans-unit>
        </group>
        <group id="12">
          <trans-unit id="14" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Service Bus Topics and Queues<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://channel9.msdn.com/posts/ServiceBusTopicsAndQueues&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> video on the channel9 site.</source>
            <target state="new"><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Service Bus Topics and Queues<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://channel9.msdn.com/posts/ServiceBusTopicsAndQueues&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> video on the channel9 site.</target>
          </trans-unit>
        </group>
        <group id="13">
          <trans-unit id="15" translate="yes" xml:space="preserve">
            <source>Architecture</source>
            <target state="new">Architecture</target>
          </trans-unit>
        </group>
        <group id="14">
          <trans-unit id="16" translate="yes" xml:space="preserve">
            <source>The following figure shows the high-level architecture of the demo:</source>
            <target state="new">The following figure shows the high-level architecture of the demo:</target>
          </trans-unit>
        </group>
        <group id="15">
          <trans-unit id="17" translate="yes" xml:space="preserve">
            <source>Message Flow:</source>
            <target state="new">Message Flow:</target>
          </trans-unit>
        </group>
        <group id="16">
          <trans-unit id="18" translate="yes" xml:space="preserve">
            <source>A client application uses a WCF proxy and the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>NetMessagingBinding<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/en-us/library/microsoft.servicebus.messaging.netmessagingbinding.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> to send a request message to the <bpt id="4">&lt;ui&gt;</bpt>requestqueue<ept id="4">&lt;/ui&gt;</ept> or to the <bpt id="5">&lt;ui&gt;</bpt>requesttopic<ept id="5">&lt;/ui&gt;</ept>.</source>
            <target state="new">A client application uses a WCF proxy and the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>NetMessagingBinding<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/en-us/library/microsoft.servicebus.messaging.netmessagingbinding.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> to send a request message to the <bpt id="4">&lt;ui&gt;</bpt>requestqueue<ept id="4">&lt;/ui&gt;</ept> or to the <bpt id="5">&lt;ui&gt;</bpt>requesttopic<ept id="5">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="17">
          <trans-unit id="19" translate="yes" xml:space="preserve">
            <source>The WCF workflow service running in a console application or IIS receives the request message from the <bpt id="1">&lt;ui&gt;</bpt>requestqueue<ept id="1">&lt;/ui&gt;</ept> or the <bpt id="2">&lt;ui&gt;</bpt>ItalyMilan<ept id="2">&lt;/ui&gt;</ept> subscription defined on the <bpt id="3">&lt;ui&gt;</bpt>requesttopic<ept id="3">&lt;/ui&gt;</ept>.</source>
            <target state="new">The WCF workflow service running in a console application or IIS receives the request message from the <bpt id="1">&lt;ui&gt;</bpt>requestqueue<ept id="1">&lt;/ui&gt;</ept> or the <bpt id="2">&lt;ui&gt;</bpt>ItalyMilan<ept id="2">&lt;/ui&gt;</ept> subscription defined on the <bpt id="3">&lt;ui&gt;</bpt>requesttopic<ept id="3">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="18">
          <trans-unit id="20" translate="yes" xml:space="preserve">
            <source>The WCF workflow service, shown in the figure above, performs the following actions:</source>
            <target state="new">The WCF workflow service, shown in the figure above, performs the following actions:</target>
          </trans-unit>
        </group>
        <group id="19">
          <trans-unit id="21" translate="yes" xml:space="preserve">
            <source>The custom <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="1">&lt;/ui&gt;</ept> (identified by the <bpt id="2">&lt;ui&gt;</bpt>Get BrokeredMessage<ept id="2">&lt;/ui&gt;</ept> display name) reads the <bpt id="3">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="3">&lt;/ui&gt;</ept> from the inbound message and assigns its value to a workflow variable defined in the outermost the <bpt id="4">&lt;ui&gt;</bpt>Sequential<ept id="4">&lt;/ui&gt;</ept> activity.</source>
            <target state="new">The custom <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="1">&lt;/ui&gt;</ept> (identified by the <bpt id="2">&lt;ui&gt;</bpt>Get BrokeredMessage<ept id="2">&lt;/ui&gt;</ept> display name) reads the <bpt id="3">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="3">&lt;/ui&gt;</ept> from the inbound message and assigns its value to a workflow variable defined in the outermost the <bpt id="4">&lt;ui&gt;</bpt>Sequential<ept id="4">&lt;/ui&gt;</ept> activity.</target>
          </trans-unit>
        </group>
        <group id="20">
          <trans-unit id="22" translate="yes" xml:space="preserve">
            <source>The <bpt id="1">&lt;ui&gt;</bpt>Receive<ept id="1">&lt;/ui&gt;</ept> activity retrieves the message from the <bpt id="2">&lt;ui&gt;</bpt>requestqueue<ept id="2">&lt;/ui&gt;</ept> or the <bpt id="3">&lt;ui&gt;</bpt>ItalyMilan<ept id="3">&lt;/ui&gt;</ept> subscription of the <bpt id="4">&lt;ui&gt;</bpt>requesttopic<ept id="4">&lt;/ui&gt;</ept>.</source>
            <target state="new">The <bpt id="1">&lt;ui&gt;</bpt>Receive<ept id="1">&lt;/ui&gt;</ept> activity retrieves the message from the <bpt id="2">&lt;ui&gt;</bpt>requestqueue<ept id="2">&lt;/ui&gt;</ept> or the <bpt id="3">&lt;ui&gt;</bpt>ItalyMilan<ept id="3">&lt;/ui&gt;</ept> subscription of the <bpt id="4">&lt;ui&gt;</bpt>requesttopic<ept id="4">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="21">
          <trans-unit id="23" translate="yes" xml:space="preserve">
            <source>The custom <bpt id="1">&lt;ui&gt;</bpt>CalculatorActivity<ept id="1">&lt;/ui&gt;</ept> receives the inbound message and <bpt id="2">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="2">&lt;/ui&gt;</ept> as input arguments, processes the request message and generates a response message and an outbound <bpt id="3">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="3">&lt;/ui&gt;</ept>.</source>
            <target state="new">The custom <bpt id="1">&lt;ui&gt;</bpt>CalculatorActivity<ept id="1">&lt;/ui&gt;</ept> receives the inbound message and <bpt id="2">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="2">&lt;/ui&gt;</ept> as input arguments, processes the request message and generates a response message and an outbound <bpt id="3">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="3">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="24" translate="yes" xml:space="preserve">
            <source>When running in a console application, the activity traces the properties of the inbound and outbound <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="1">&lt;/ui&gt;</ept> in the standard output.</source>
            <target state="new">When running in a console application, the activity traces the properties of the inbound and outbound <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="1">&lt;/ui&gt;</ept> in the standard output.</target>
          </trans-unit>
        </group>
        <group id="22">
          <trans-unit id="25" translate="yes" xml:space="preserve">
            <source>The <bpt id="1">&lt;ui&gt;</bpt>If<ept id="1">&lt;/ui&gt;</ept> activity reads the address contained in the <bpt id="2">&lt;ui&gt;</bpt>ReplyTo<ept id="2">&lt;/ui&gt;</ept> property of the inbound <bpt id="3">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="3">&lt;/ui&gt;</ept>.</source>
            <target state="new">The <bpt id="1">&lt;ui&gt;</bpt>If<ept id="1">&lt;/ui&gt;</ept> activity reads the address contained in the <bpt id="2">&lt;ui&gt;</bpt>ReplyTo<ept id="2">&lt;/ui&gt;</ept> property of the inbound <bpt id="3">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="3">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="23">
          <trans-unit id="26" translate="yes" xml:space="preserve">
            <source>If the string contains the word “topic”, the response is sent to the <bpt id="1">&lt;ui&gt;</bpt>responsetopic<ept id="1">&lt;/ui&gt;</ept>.</source>
            <target state="new">If the string contains the word “topic”, the response is sent to the <bpt id="1">&lt;ui&gt;</bpt>responsetopic<ept id="1">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="24">
          <trans-unit id="27" translate="yes" xml:space="preserve">
            <source>Otherwise, the response is sent to the <bpt id="1">&lt;ui&gt;</bpt>responsequeue<ept id="1">&lt;/ui&gt;</ept>.</source>
            <target state="new">Otherwise, the response is sent to the <bpt id="1">&lt;ui&gt;</bpt>responsequeue<ept id="1">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="25">
          <trans-unit id="28" translate="yes" xml:space="preserve">
            <source>In both cases, an instance of the <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="1">&lt;/ui&gt;</ept> (identified by the <bpt id="2">&lt;ui&gt;</bpt>Set BrokeredMessage<ept id="2">&lt;/ui&gt;</ept> display name) is used to wrap the Send activity and assign the outbound <bpt id="3">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="3">&lt;/ui&gt;</ept> to the properties collection of the WCF response message.</source>
            <target state="new">In both cases, an instance of the <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="1">&lt;/ui&gt;</ept> (identified by the <bpt id="2">&lt;ui&gt;</bpt>Set BrokeredMessage<ept id="2">&lt;/ui&gt;</ept> display name) is used to wrap the Send activity and assign the outbound <bpt id="3">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="3">&lt;/ui&gt;</ept> to the properties collection of the WCF response message.</target>
          </trans-unit>
        </group>
        <group id="26">
          <trans-unit id="29" translate="yes" xml:space="preserve">
            <source>The WCF workflow service writes the reply message to the <bpt id="1">&lt;ui&gt;</bpt>responsequeue<ept id="1">&lt;/ui&gt;</ept> or <bpt id="2">&lt;ui&gt;</bpt>responsetopic<ept id="2">&lt;/ui&gt;</ept>.</source>
            <target state="new">The WCF workflow service writes the reply message to the <bpt id="1">&lt;ui&gt;</bpt>responsequeue<ept id="1">&lt;/ui&gt;</ept> or <bpt id="2">&lt;ui&gt;</bpt>responsetopic<ept id="2">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="27">
          <trans-unit id="30" translate="yes" xml:space="preserve">
            <source>The client application uses a WCF service with two distinct endpoints to retrieve the reply message from the <bpt id="1">&lt;ui&gt;</bpt>responsequeue<ept id="1">&lt;/ui&gt;</ept> or from the <bpt id="2">&lt;ui&gt;</bpt>responsetopic<ept id="2">&lt;/ui&gt;</ept>.</source>
            <target state="new">The client application uses a WCF service with two distinct endpoints to retrieve the reply message from the <bpt id="1">&lt;ui&gt;</bpt>responsequeue<ept id="1">&lt;/ui&gt;</ept> or from the <bpt id="2">&lt;ui&gt;</bpt>responsetopic<ept id="2">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="31" translate="yes" xml:space="preserve">
            <source>In an environment with multiple client applications, each of them should use a separate queue or subscription to receive response messages from BizTalk.</source>
            <target state="new">In an environment with multiple client applications, each of them should use a separate queue or subscription to receive response messages from BizTalk.</target>
          </trans-unit>
          <trans-unit id="32" translate="yes" xml:space="preserve">
            <source>More on this later on in the article.</source>
            <target state="new">More on this later on in the article.</target>
          </trans-unit>
        </group>
        <group id="28">
          <trans-unit id="33" translate="yes" xml:space="preserve">
            <source>Solution</source>
            <target state="new">Solution</target>
          </trans-unit>
        </group>
        <group id="29">
          <trans-unit id="34" translate="yes" xml:space="preserve">
            <source>Now that we described the overall architecture of the demo we can analyze in detail the main components of the solution.</source>
            <target state="new">Now that we described the overall architecture of the demo we can analyze in detail the main components of the solution.</target>
          </trans-unit>
        </group>
        <group id="30">
          <trans-unit id="35" translate="yes" xml:space="preserve">
            <source>Queues, Topics and Subscriptions</source>
            <target state="new">Queues, Topics and Subscriptions</target>
          </trans-unit>
        </group>
        <group id="31">
          <trans-unit id="36" translate="yes" xml:space="preserve">
            <source>The first operation to perform to properly configure the environment is creating the messaging entities used by the demo.</source>
            <target state="new">The first operation to perform to properly configure the environment is creating the messaging entities used by the demo.</target>
          </trans-unit>
          <trans-unit id="37" translate="yes" xml:space="preserve">
            <source>The first operation to execute is to provision a new <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> namespace or modify an existing namespace to include <ph id="2">&lt;token&gt;sb2&lt;/token&gt;</ph>.</source>
            <target state="new">The first operation to execute is to provision a new <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> namespace or modify an existing namespace to include <ph id="2">&lt;token&gt;sb2&lt;/token&gt;</ph>.</target>
          </trans-unit>
          <trans-unit id="38" translate="yes" xml:space="preserve">
            <source>You can accomplish this task from the <bpt id="1">&lt;ui&gt;</bpt>Azure Management Portal<ept id="1">&lt;/ui&gt;</ept> respectively by clicking the <bpt id="2">&lt;ui&gt;</bpt>New<ept id="2">&lt;/ui&gt;</ept> button or the <bpt id="3">&lt;ui&gt;</bpt>Modify<ept id="3">&lt;/ui&gt;</ept> button .</source>
            <target state="new">You can accomplish this task from the <bpt id="1">&lt;ui&gt;</bpt>Azure Management Portal<ept id="1">&lt;/ui&gt;</ept> respectively by clicking the <bpt id="2">&lt;ui&gt;</bpt>New<ept id="2">&lt;/ui&gt;</ept> button or the <bpt id="3">&lt;ui&gt;</bpt>Modify<ept id="3">&lt;/ui&gt;</ept> button .</target>
          </trans-unit>
        </group>
        <group id="32">
          <trans-unit id="39" translate="yes" xml:space="preserve">
            <source>The next step is to create the queue, topic and subscription entities required by the demo.</source>
            <target state="new">The next step is to create the queue, topic and subscription entities required by the demo.</target>
          </trans-unit>
          <trans-unit id="40" translate="yes" xml:space="preserve">
            <source>As I mentioned in the introduction, you have many options to accomplish this task.</source>
            <target state="new">As I mentioned in the introduction, you have many options to accomplish this task.</target>
          </trans-unit>
          <trans-unit id="41" translate="yes" xml:space="preserve">
            <source>The easiest way is by using the <bpt id="1">&lt;ui&gt;</bpt>Azure Management Portal<ept id="1">&lt;/ui&gt;</ept> using the buttons in the <bpt id="2">&lt;ui&gt;</bpt>Manage Entities<ept id="2">&lt;/ui&gt;</ept> command.</source>
            <target state="new">The easiest way is by using the <bpt id="1">&lt;ui&gt;</bpt>Azure Management Portal<ept id="1">&lt;/ui&gt;</ept> using the buttons in the <bpt id="2">&lt;ui&gt;</bpt>Manage Entities<ept id="2">&lt;/ui&gt;</ept> command.</target>
          </trans-unit>
        </group>
        <group id="33">
          <trans-unit id="42" translate="yes" xml:space="preserve">
            <source>You can use the navigation tree-view shown at point 2 to select an existing entity and display its properties in the vertical bar highlighted at point 3.</source>
            <target state="new">You can use the navigation tree-view shown at point 2 to select an existing entity and display its properties in the vertical bar highlighted at point 3.</target>
          </trans-unit>
          <trans-unit id="43" translate="yes" xml:space="preserve">
            <source>To remove the selected entity, you press the <bpt id="1">&lt;ui&gt;</bpt>Delete<ept id="1">&lt;/ui&gt;</ept> button in the <bpt id="2">&lt;ui&gt;</bpt>Manage Entities<ept id="2">&lt;/ui&gt;</ept> command bar.</source>
            <target state="new">To remove the selected entity, you press the <bpt id="1">&lt;ui&gt;</bpt>Delete<ept id="1">&lt;/ui&gt;</ept> button in the <bpt id="2">&lt;ui&gt;</bpt>Manage Entities<ept id="2">&lt;/ui&gt;</ept> command bar.</target>
          </trans-unit>
        </group>
        <group id="34">
          <trans-unit id="44" translate="yes" xml:space="preserve">
            <source>Using Azure Management Portal is a handy and convenient manner to handle the messaging entities in a given <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> namespace.</source>
            <target state="new">Using Azure Management Portal is a handy and convenient manner to handle the messaging entities in a given <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> namespace.</target>
          </trans-unit>
          <trans-unit id="45" translate="yes" xml:space="preserve">
            <source>However, at least at the moment, the set of operations that a developer or a system administrator can perform using its user interface is quite limited.</source>
            <target state="new">However, at least at the moment, the set of operations that a developer or a system administrator can perform using its user interface is quite limited.</target>
          </trans-unit>
          <trans-unit id="46" translate="yes" xml:space="preserve">
            <source>For example, the Azure Management Portal actually allows a user to create queues, topics, and subscriptions and define their properties, but not to create or display rules for an existing subscription.</source>
            <target state="new">For example, the Azure Management Portal actually allows a user to create queues, topics, and subscriptions and define their properties, but not to create or display rules for an existing subscription.</target>
          </trans-unit>
          <trans-unit id="47" translate="yes" xml:space="preserve">
            <source>At the moment, you can accomplish this task only by using the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>.NET Messaging API<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept>.</source>
            <target state="new">At the moment, you can accomplish this task only by using the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>.NET Messaging API<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="48" translate="yes" xml:space="preserve">
            <source>In particular, to add a new rule to an existing subscription you can use the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>AddRule(String, Filter)<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/hh429499.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> or the <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>AddRule(RuleDescription)<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/hh330813.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> methods exposed by the <bpt id="7">&lt;externalLink&gt;</bpt><bpt id="8">&lt;linkText&gt;</bpt>SubscriptionClient<ept id="8">&lt;/linkText&gt;</ept><ph id="9">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.subscriptionclient.aspx&lt;/linkUri&gt;</ph><ept id="7">&lt;/externalLink&gt;</ept> class, while to enumerate the rules of an existing subscription, you can use the <bpt id="10">&lt;externalLink&gt;</bpt><bpt id="11">&lt;linkText&gt;</bpt>GetRules<ept id="11">&lt;/linkText&gt;</ept><ph id="12">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.namespacemanager.getrules.aspx&lt;/linkUri&gt;</ph><ept id="10">&lt;/externalLink&gt;</ept> method of the <bpt id="13">&lt;externalLink&gt;</bpt><bpt id="14">&lt;linkText&gt;</bpt>NamespaceManager<ept id="14">&lt;/linkText&gt;</ept><ph id="15">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.namespacemanager.aspx&lt;/linkUri&gt;</ph><ept id="13">&lt;/externalLink&gt;</ept> class.</source>
            <target state="new">In particular, to add a new rule to an existing subscription you can use the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>AddRule(String, Filter)<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/hh429499.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> or the <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>AddRule(RuleDescription)<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/hh330813.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> methods exposed by the <bpt id="7">&lt;externalLink&gt;</bpt><bpt id="8">&lt;linkText&gt;</bpt>SubscriptionClient<ept id="8">&lt;/linkText&gt;</ept><ph id="9">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.subscriptionclient.aspx&lt;/linkUri&gt;</ph><ept id="7">&lt;/externalLink&gt;</ept> class, while to enumerate the rules of an existing subscription, you can use the <bpt id="10">&lt;externalLink&gt;</bpt><bpt id="11">&lt;linkText&gt;</bpt>GetRules<ept id="11">&lt;/linkText&gt;</ept><ph id="12">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.namespacemanager.getrules.aspx&lt;/linkUri&gt;</ph><ept id="10">&lt;/externalLink&gt;</ept> method of the <bpt id="13">&lt;externalLink&gt;</bpt><bpt id="14">&lt;linkText&gt;</bpt>NamespaceManager<ept id="14">&lt;/linkText&gt;</ept><ph id="15">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.namespacemanager.aspx&lt;/linkUri&gt;</ph><ept id="13">&lt;/externalLink&gt;</ept> class.</target>
          </trans-unit>
          <trans-unit id="49" translate="yes" xml:space="preserve">
            <source>Besides, the Azure Management Portal actually does not provide the ability to perform the following operations:</source>
            <target state="new">Besides, the Azure Management Portal actually does not provide the ability to perform the following operations:</target>
          </trans-unit>
        </group>
        <group id="35">
          <trans-unit id="50" translate="yes" xml:space="preserve">
            <source>Properly visualize entities in a hierarchical manner.</source>
            <target state="new">Properly visualize entities in a hierarchical manner.</target>
          </trans-unit>
          <trans-unit id="51" translate="yes" xml:space="preserve">
            <source>Actually, the Azure Management Portal displays queues, topics and subscriptions with a flat treeview.</source>
            <target state="new">Actually, the Azure Management Portal displays queues, topics and subscriptions with a flat treeview.</target>
          </trans-unit>
          <trans-unit id="52" translate="yes" xml:space="preserve">
            <source>However, you can organize messaging entities in a hierarchical structure simply by specifying their name as an absolute path composed of multiple path segments, for example crm/prod/queues/orderqueue.</source>
            <target state="new">However, you can organize messaging entities in a hierarchical structure simply by specifying their name as an absolute path composed of multiple path segments, for example crm/prod/queues/orderqueue.</target>
          </trans-unit>
        </group>
        <group id="36">
          <trans-unit id="53" translate="yes" xml:space="preserve">
            <source>Export the messaging entities contained in a given <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> namespace to an XML binding file (a-la BizTalk Server).</source>
            <target state="new">Export the messaging entities contained in a given <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> namespace to an XML binding file (a-la BizTalk Server).</target>
          </trans-unit>
          <trans-unit id="54" translate="yes" xml:space="preserve">
            <source>Instead, the <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> Explorer tool provides the ability to select and export</source>
            <target state="new">Instead, the <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> Explorer tool provides the ability to select and export</target>
          </trans-unit>
        </group>
        <group id="37">
          <trans-unit id="55" translate="yes" xml:space="preserve">
            <source>Individual entities.</source>
            <target state="new">Individual entities.</target>
          </trans-unit>
        </group>
        <group id="38">
          <trans-unit id="56" translate="yes" xml:space="preserve">
            <source>Entities by type (queues or topics).</source>
            <target state="new">Entities by type (queues or topics).</target>
          </trans-unit>
        </group>
        <group id="39">
          <trans-unit id="57" translate="yes" xml:space="preserve">
            <source>Entities contained in a certain path (e.g. crm/prod/queues).</source>
            <target state="new">Entities contained in a certain path (e.g. crm/prod/queues).</target>
          </trans-unit>
        </group>
        <group id="40">
          <trans-unit id="58" translate="yes" xml:space="preserve">
            <source>All the entities in a given namespace.</source>
            <target state="new">All the entities in a given namespace.</target>
          </trans-unit>
        </group>
        <group id="41">
          <trans-unit id="59" translate="yes" xml:space="preserve">
            <source>Import queues, topics and subscriptions from an XML file to an existing namespace.</source>
            <target state="new">Import queues, topics and subscriptions from an XML file to an existing namespace.</target>
          </trans-unit>
          <trans-unit id="60" translate="yes" xml:space="preserve">
            <source>The <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> Explorer supports the ability to export entities to an XML file and reimport them on the same or another <ph id="2">&lt;token&gt;sb2&lt;/token&gt;</ph> namespace.</source>
            <target state="new">The <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> Explorer supports the ability to export entities to an XML file and reimport them on the same or another <ph id="2">&lt;token&gt;sb2&lt;/token&gt;</ph> namespace.</target>
          </trans-unit>
          <trans-unit id="61" translate="yes" xml:space="preserve">
            <source>This feature comes in a handy to perform a backup and restore of a namespace or simply to transfer queues and topics from a testing to a production namespace.</source>
            <target state="new">This feature comes in a handy to perform a backup and restore of a namespace or simply to transfer queues and topics from a testing to a production namespace.</target>
          </trans-unit>
        </group>
        <group id="42">
          <trans-unit id="62" translate="yes" xml:space="preserve">
            <source>The <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Service Bus Explorer<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> allows a user to create, delete and test queues, topics, subscriptions, and rules and represents the perfect companion for the official Azure Management Portal.</source>
            <target state="new">The <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Service Bus Explorer<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://code.msdn.microsoft.com/windowsapps/Service-Bus-Explorer-f2abca5a&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> allows a user to create, delete and test queues, topics, subscriptions, and rules and represents the perfect companion for the official Azure Management Portal.</target>
          </trans-unit>
        </group>
        <group id="43">
          <trans-unit id="63" translate="yes" xml:space="preserve">
            <source>For your convenience, I created a console application called <bpt id="1">&lt;ui&gt;</bpt>Provisioning<ept id="1">&lt;/ui&gt;</ept> that uses the functionality provided by the <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>NamespaceManager<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.namespacemanager.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> class to create the queues, topics, and subscriptions required by the solution.</source>
            <target state="new">For your convenience, I created a console application called <bpt id="1">&lt;ui&gt;</bpt>Provisioning<ept id="1">&lt;/ui&gt;</ept> that uses the functionality provided by the <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>NamespaceManager<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.namespacemanager.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> class to create the queues, topics, and subscriptions required by the solution.</target>
          </trans-unit>
          <trans-unit id="64" translate="yes" xml:space="preserve">
            <source>When it starts, the console applications prompt for service namespace credentials.</source>
            <target state="new">When it starts, the console applications prompt for service namespace credentials.</target>
          </trans-unit>
          <trans-unit id="65" translate="yes" xml:space="preserve">
            <source>These are used to authenticate with the Access Control service, and acquire an access token that proves to the <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> infrastructure that the application is authorized to provision new messaging entities.</source>
            <target state="new">These are used to authenticate with the Access Control service, and acquire an access token that proves to the <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> infrastructure that the application is authorized to provision new messaging entities.</target>
          </trans-unit>
          <trans-unit id="66" translate="yes" xml:space="preserve">
            <source>Then the application prompts for the value to assign to the properties of the entities to create such as <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>EnabledBatchedOperations<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.queuedescription.enablebatchedoperations.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> and <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>EnableDeadLetteringOnMessageExpiration<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.queuedescription.enabledeadletteringonmessageexpiration.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> for queues.</source>
            <target state="new">Then the application prompts for the value to assign to the properties of the entities to create such as <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>EnabledBatchedOperations<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.queuedescription.enablebatchedoperations.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> and <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>EnableDeadLetteringOnMessageExpiration<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.queuedescription.enabledeadletteringonmessageexpiration.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> for queues.</target>
          </trans-unit>
          <trans-unit id="67" translate="yes" xml:space="preserve">
            <source>The Provisioning application creates the following entities in the specified <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> namespace:</source>
            <target state="new">The Provisioning application creates the following entities in the specified <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> namespace:</target>
          </trans-unit>
        </group>
        <group id="44">
          <trans-unit id="68" translate="yes" xml:space="preserve">
            <source>A queue called <bpt id="1">&lt;ui&gt;</bpt>requestqueue<ept id="1">&lt;/ui&gt;</ept> used by the client application to send request messages to BizTalk Server.</source>
            <target state="new">A queue called <bpt id="1">&lt;ui&gt;</bpt>requestqueue<ept id="1">&lt;/ui&gt;</ept> used by the client application to send request messages to BizTalk Server.</target>
          </trans-unit>
        </group>
        <group id="45">
          <trans-unit id="69" translate="yes" xml:space="preserve">
            <source>A queue called <bpt id="1">&lt;ui&gt;</bpt>responsequeue<ept id="1">&lt;/ui&gt;</ept> used by BizTalk Server to send response messages to the client application.</source>
            <target state="new">A queue called <bpt id="1">&lt;ui&gt;</bpt>responsequeue<ept id="1">&lt;/ui&gt;</ept> used by BizTalk Server to send response messages to the client application.</target>
          </trans-unit>
        </group>
        <group id="46">
          <trans-unit id="70" translate="yes" xml:space="preserve">
            <source>A topic called <bpt id="1">&lt;ui&gt;</bpt>requesttopic<ept id="1">&lt;/ui&gt;</ept> used by the client application to send request messages to BizTalk Server.</source>
            <target state="new">A topic called <bpt id="1">&lt;ui&gt;</bpt>requesttopic<ept id="1">&lt;/ui&gt;</ept> used by the client application to send request messages to BizTalk Server.</target>
          </trans-unit>
        </group>
        <group id="47">
          <trans-unit id="71" translate="yes" xml:space="preserve">
            <source>A topic called <bpt id="1">&lt;ui&gt;</bpt>responsetopic<ept id="1">&lt;/ui&gt;</ept> used by BizTalk Server to send response messages to the client application.</source>
            <target state="new">A topic called <bpt id="1">&lt;ui&gt;</bpt>responsetopic<ept id="1">&lt;/ui&gt;</ept> used by BizTalk Server to send response messages to the client application.</target>
          </trans-unit>
        </group>
        <group id="48">
          <trans-unit id="72" translate="yes" xml:space="preserve">
            <source>A subscription called <bpt id="1">&lt;ui&gt;</bpt>ItalyMilan<ept id="1">&lt;/ui&gt;</ept> for the <bpt id="2">&lt;ui&gt;</bpt>requesttopic<ept id="2">&lt;/ui&gt;</ept>.</source>
            <target state="new">A subscription called <bpt id="1">&lt;ui&gt;</bpt>ItalyMilan<ept id="1">&lt;/ui&gt;</ept> for the <bpt id="2">&lt;ui&gt;</bpt>requesttopic<ept id="2">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="73" translate="yes" xml:space="preserve">
            <source>The latter is used by BizTalk Server to receive request messages from the <bpt id="1">&lt;ui&gt;</bpt>requesttopic<ept id="1">&lt;/ui&gt;</ept>.</source>
            <target state="new">The latter is used by BizTalk Server to receive request messages from the <bpt id="1">&lt;ui&gt;</bpt>requesttopic<ept id="1">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="74" translate="yes" xml:space="preserve">
            <source>The subscription in question has a single rule defined as follows:</source>
            <target state="new">The subscription in question has a single rule defined as follows:</target>
          </trans-unit>
        </group>
        <group id="49">
          <trans-unit id="75" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;ui&gt;</bpt>Filter<ept id="1">&lt;/ui&gt;</ept>: Country='Italy' and City='Milan'</source>
            <target state="new"><bpt id="1">&lt;ui&gt;</bpt>Filter<ept id="1">&lt;/ui&gt;</ept>: Country='Italy' and City='Milan'</target>
          </trans-unit>
        </group>
        <group id="50">
          <trans-unit id="76" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;ui&gt;</bpt>Action<ept id="1">&lt;/ui&gt;</ept>: Set Area='Western Europe'</source>
            <target state="new"><bpt id="1">&lt;ui&gt;</bpt>Action<ept id="1">&lt;/ui&gt;</ept>: Set Area='Western Europe'</target>
          </trans-unit>
        </group>
        <group id="51">
          <trans-unit id="77" translate="yes" xml:space="preserve">
            <source>A subscription called <bpt id="1">&lt;ui&gt;</bpt>ItalyMilan<ept id="1">&lt;/ui&gt;</ept> for the <bpt id="2">&lt;ui&gt;</bpt>responsetopic<ept id="2">&lt;/ui&gt;</ept>.</source>
            <target state="new">A subscription called <bpt id="1">&lt;ui&gt;</bpt>ItalyMilan<ept id="1">&lt;/ui&gt;</ept> for the <bpt id="2">&lt;ui&gt;</bpt>responsetopic<ept id="2">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="78" translate="yes" xml:space="preserve">
            <source>The latter is used by client application to receive response messages from the <bpt id="1">&lt;ui&gt;</bpt>responsetopic<ept id="1">&lt;/ui&gt;</ept>.</source>
            <target state="new">The latter is used by client application to receive response messages from the <bpt id="1">&lt;ui&gt;</bpt>responsetopic<ept id="1">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="79" translate="yes" xml:space="preserve">
            <source>The subscription in question has a single rule defined as follows:</source>
            <target state="new">The subscription in question has a single rule defined as follows:</target>
          </trans-unit>
        </group>
        <group id="52">
          <trans-unit id="80" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;ui&gt;</bpt>Filter<ept id="1">&lt;/ui&gt;</ept>: Country='Italy' and City='Milan'</source>
            <target state="new"><bpt id="1">&lt;ui&gt;</bpt>Filter<ept id="1">&lt;/ui&gt;</ept>: Country='Italy' and City='Milan'</target>
          </trans-unit>
        </group>
        <group id="53">
          <trans-unit id="81" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;ui&gt;</bpt>Action<ept id="1">&lt;/ui&gt;</ept>: Set Area='Western Europe'</source>
            <target state="new"><bpt id="1">&lt;ui&gt;</bpt>Action<ept id="1">&lt;/ui&gt;</ept>: Set Area='Western Europe'</target>
          </trans-unit>
        </group>
        <group id="54">
          <trans-unit id="82" translate="yes" xml:space="preserve">
            <source>The following figure displays the output of the <bpt id="1">&lt;ui&gt;</bpt>Provisioning<ept id="1">&lt;/ui&gt;</ept> console application.</source>
            <target state="new">The following figure displays the output of the <bpt id="1">&lt;ui&gt;</bpt>Provisioning<ept id="1">&lt;/ui&gt;</ept> console application.</target>
          </trans-unit>
        </group>
        <group id="55">
          <trans-unit id="83" translate="yes" xml:space="preserve">
            <source>The following table contains the code of the <bpt id="1">&lt;ui&gt;</bpt>Provisioning<ept id="1">&lt;/ui&gt;</ept> application:</source>
            <target state="new">The following table contains the code of the <bpt id="1">&lt;ui&gt;</bpt>Provisioning<ept id="1">&lt;/ui&gt;</ept> application:</target>
          </trans-unit>
        </group>
        <group id="56">
          <trans-unit id="84" translate="yes" xml:space="preserve">
            <source>I didn't test all the possible combinations of properties for queues and topics so the demo may not work as expected with all the configurations.</source>
            <target state="new">I didn't test all the possible combinations of properties for queues and topics so the demo may not work as expected with all the configurations.</target>
          </trans-unit>
        </group>
        <group id="57">
          <trans-unit id="85" translate="yes" xml:space="preserve">
            <source>Data Contracts</source>
            <target state="new">Data Contracts</target>
          </trans-unit>
        </group>
        <group id="58">
          <trans-unit id="86" translate="yes" xml:space="preserve">
            <source>I started defining the Data Contracts for the request and response messages.</source>
            <target state="new">I started defining the Data Contracts for the request and response messages.</target>
          </trans-unit>
          <trans-unit id="87" translate="yes" xml:space="preserve">
            <source>The Data Contracts provide a mechanism to map .NET CLR types that are defined in code and XML Schemas (XSD) defined by the W3C organization (<bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>www.w3c.org<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://www.w3c.org/&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept>).</source>
            <target state="new">The Data Contracts provide a mechanism to map .NET CLR types that are defined in code and XML Schemas (XSD) defined by the W3C organization (<bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>www.w3c.org<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://www.w3c.org/&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept>).</target>
          </trans-unit>
          <trans-unit id="88" translate="yes" xml:space="preserve">
            <source>Data contracts are published in the service’s metadata, allowing clients to convert the neutral, technology-agnostic representation of the data types to their native representations.</source>
            <target state="new">Data contracts are published in the service’s metadata, allowing clients to convert the neutral, technology-agnostic representation of the data types to their native representations.</target>
          </trans-unit>
          <trans-unit id="89" translate="yes" xml:space="preserve">
            <source>For more information on Data and Contracts, you can read the following articles:</source>
            <target state="new">For more information on Data and Contracts, you can read the following articles:</target>
          </trans-unit>
        </group>
        <group id="59">
          <trans-unit id="90" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Using Data Contracts<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/ms733127.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> topic on MSDN.</source>
            <target state="new"><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Using Data Contracts<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/ms733127.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> topic on MSDN.</target>
          </trans-unit>
        </group>
        <group id="60">
          <trans-unit id="91" translate="yes" xml:space="preserve">
            <source>In my solution, I created a project called <bpt id="1">&lt;ui&gt;</bpt>DataContracts<ept id="1">&lt;/ui&gt;</ept> to define the classes that represent, respectively, the request and response messages.</source>
            <target state="new">In my solution, I created a project called <bpt id="1">&lt;ui&gt;</bpt>DataContracts<ept id="1">&lt;/ui&gt;</ept> to define the classes that represent, respectively, the request and response messages.</target>
          </trans-unit>
          <trans-unit id="92" translate="yes" xml:space="preserve">
            <source>For your convenience, I included below their code.</source>
            <target state="new">For your convenience, I included below their code.</target>
          </trans-unit>
        </group>
        <group id="61">
          <trans-unit id="93" translate="yes" xml:space="preserve">
            <source>CalculatorRequest Class</source>
            <target state="new">CalculatorRequest Class</target>
          </trans-unit>
        </group>
        <group id="62">
          <trans-unit id="94" translate="yes" xml:space="preserve">
            <source>CalculatorResponse Class</source>
            <target state="new">CalculatorResponse Class</target>
          </trans-unit>
        </group>
        <group id="63">
          <trans-unit id="95" translate="yes" xml:space="preserve">
            <source>Service Contracts</source>
            <target state="new">Service Contracts</target>
          </trans-unit>
        </group>
        <group id="64">
          <trans-unit id="96" translate="yes" xml:space="preserve">
            <source>The next step was to define the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Service Contracts<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/ms733070.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> used by the client application to exchange messages with <ph id="4">&lt;token&gt;sb2&lt;/token&gt;</ph>.</source>
            <target state="new">The next step was to define the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Service Contracts<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/ms733070.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> used by the client application to exchange messages with <ph id="4">&lt;token&gt;sb2&lt;/token&gt;</ph>.</target>
          </trans-unit>
          <trans-unit id="97" translate="yes" xml:space="preserve">
            <source>To this purpose, I created a new project in my solution called <bpt id="1">&lt;ui&gt;</bpt>ServiceContracts<ept id="1">&lt;/ui&gt;</ept> and I defined two service contract interfaces used by the client application respectively to send and receive messages from the <ph id="2">&lt;token&gt;sb2&lt;/token&gt;</ph> messaging entities.</source>
            <target state="new">To this purpose, I created a new project in my solution called <bpt id="1">&lt;ui&gt;</bpt>ServiceContracts<ept id="1">&lt;/ui&gt;</ept> and I defined two service contract interfaces used by the client application respectively to send and receive messages from the <ph id="2">&lt;token&gt;sb2&lt;/token&gt;</ph> messaging entities.</target>
          </trans-unit>
          <trans-unit id="98" translate="yes" xml:space="preserve">
            <source>Indeed, I created two different versions of the service contract used to receive response messages:</source>
            <target state="new">Indeed, I created two different versions of the service contract used to receive response messages:</target>
          </trans-unit>
        </group>
        <group id="65">
          <trans-unit id="99" translate="yes" xml:space="preserve">
            <source>The <bpt id="1">&lt;ui&gt;</bpt>ICalculatorResponse<ept id="1">&lt;/ui&gt;</ept> interface is meant to be used to receive response messages from a non-sessionful queue or subscription.</source>
            <target state="new">The <bpt id="1">&lt;ui&gt;</bpt>ICalculatorResponse<ept id="1">&lt;/ui&gt;</ept> interface is meant to be used to receive response messages from a non-sessionful queue or subscription.</target>
          </trans-unit>
        </group>
        <group id="66">
          <trans-unit id="100" translate="yes" xml:space="preserve">
            <source>The <bpt id="1">&lt;ui&gt;</bpt>ICalculatorResponseSessionful<ept id="1">&lt;/ui&gt;</ept> interface inherits from from <bpt id="2">&lt;ui&gt;</bpt>ICalculatorResponse<ept id="2">&lt;/ui&gt;</ept> service contract and is marked with the marked with the [<bpt id="3">&lt;externalLink&gt;</bpt><bpt id="4">&lt;linkText&gt;</bpt>ServiceContract(SessionMode<ept id="4">&lt;/linkText&gt;</ept><ph id="5">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.servicecontractattribute.aspx&lt;/linkUri&gt;</ph><ept id="3">&lt;/externalLink&gt;</ept> = <bpt id="6">&lt;externalLink&gt;</bpt><bpt id="7">&lt;linkText&gt;</bpt>SessionMode.Required<ept id="7">&lt;/linkText&gt;</ept><ph id="8">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.sessionmode.aspx&lt;/linkUri&gt;</ph><ept id="6">&lt;/externalLink&gt;</ept>)] attribute.</source>
            <target state="new">The <bpt id="1">&lt;ui&gt;</bpt>ICalculatorResponseSessionful<ept id="1">&lt;/ui&gt;</ept> interface inherits from from <bpt id="2">&lt;ui&gt;</bpt>ICalculatorResponse<ept id="2">&lt;/ui&gt;</ept> service contract and is marked with the marked with the [<bpt id="3">&lt;externalLink&gt;</bpt><bpt id="4">&lt;linkText&gt;</bpt>ServiceContract(SessionMode<ept id="4">&lt;/linkText&gt;</ept><ph id="5">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.servicecontractattribute.aspx&lt;/linkUri&gt;</ph><ept id="3">&lt;/externalLink&gt;</ept> = <bpt id="6">&lt;externalLink&gt;</bpt><bpt id="7">&lt;linkText&gt;</bpt>SessionMode.Required<ept id="7">&lt;/linkText&gt;</ept><ph id="8">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.sessionmode.aspx&lt;/linkUri&gt;</ph><ept id="6">&lt;/externalLink&gt;</ept>)] attribute.</target>
          </trans-unit>
          <trans-unit id="101" translate="yes" xml:space="preserve">
            <source>This service contract is is meant to be used to receive response messages from a non-sessionful queue or subscription.</source>
            <target state="new">This service contract is is meant to be used to receive response messages from a non-sessionful queue or subscription.</target>
          </trans-unit>
        </group>
        <group id="67">
          <trans-unit id="102" translate="yes" xml:space="preserve">
            <source>Note that the methods defined by all the contracts are one-way.</source>
            <target state="new">Note that the methods defined by all the contracts are one-way.</target>
          </trans-unit>
          <trans-unit id="103" translate="yes" xml:space="preserve">
            <source>This is a mandatory requirement.</source>
            <target state="new">This is a mandatory requirement.</target>
          </trans-unit>
        </group>
        <group id="68">
          <trans-unit id="104" translate="yes" xml:space="preserve">
            <source>ICalculatorRequest, ICalculatorResponse, ICalculatorResponseSessionful Interfaces</source>
            <target state="new">ICalculatorRequest, ICalculatorResponse, ICalculatorResponseSessionful Interfaces</target>
          </trans-unit>
        </group>
        <group id="69">
          <trans-unit id="105" translate="yes" xml:space="preserve">
            <source>We are now ready to look at the code of the client application.</source>
            <target state="new">We are now ready to look at the code of the client application.</target>
          </trans-unit>
        </group>
        <group id="70">
          <trans-unit id="106" translate="yes" xml:space="preserve">
            <source>Client Application</source>
            <target state="new">Client Application</target>
          </trans-unit>
        </group>
        <group id="71">
          <trans-unit id="107" translate="yes" xml:space="preserve">
            <source>Since the Windows Forms application exchanges messages with the underlying WCF workflow service in an asynchronous way via <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> messaging entities, it acts as a client and a service application at the same time.</source>
            <target state="new">Since the Windows Forms application exchanges messages with the underlying WCF workflow service in an asynchronous way via <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> messaging entities, it acts as a client and a service application at the same time.</target>
          </trans-unit>
          <trans-unit id="108" translate="yes" xml:space="preserve">
            <source>The Windows Forms uses WCF and the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>NetMessagingBinding<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.netmessagingbinding.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> to perform the following actions:</source>
            <target state="new">The Windows Forms uses WCF and the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>NetMessagingBinding<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.netmessagingbinding.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> to perform the following actions:</target>
          </trans-unit>
        </group>
        <group id="72">
          <trans-unit id="109" translate="yes" xml:space="preserve">
            <source>Send request messages to the <bpt id="1">&lt;ui&gt;</bpt>requestqueue<ept id="1">&lt;/ui&gt;</ept>.</source>
            <target state="new">Send request messages to the <bpt id="1">&lt;ui&gt;</bpt>requestqueue<ept id="1">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="73">
          <trans-unit id="110" translate="yes" xml:space="preserve">
            <source>Send request messages to the <bpt id="1">&lt;ui&gt;</bpt>requesttopic<ept id="1">&lt;/ui&gt;</ept>.</source>
            <target state="new">Send request messages to the <bpt id="1">&lt;ui&gt;</bpt>requesttopic<ept id="1">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="74">
          <trans-unit id="111" translate="yes" xml:space="preserve">
            <source>Receive response messages from the <bpt id="1">&lt;ui&gt;</bpt>responsequeue<ept id="1">&lt;/ui&gt;</ept>.</source>
            <target state="new">Receive response messages from the <bpt id="1">&lt;ui&gt;</bpt>responsequeue<ept id="1">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="75">
          <trans-unit id="112" translate="yes" xml:space="preserve">
            <source>Receive response messages from the <bpt id="1">&lt;ui&gt;</bpt>ItalyMilan<ept id="1">&lt;/ui&gt;</ept> subscription of the <bpt id="2">&lt;ui&gt;</bpt>responsetopic<ept id="2">&lt;/ui&gt;</ept>.</source>
            <target state="new">Receive response messages from the <bpt id="1">&lt;ui&gt;</bpt>ItalyMilan<ept id="1">&lt;/ui&gt;</ept> subscription of the <bpt id="2">&lt;ui&gt;</bpt>responsetopic<ept id="2">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="76">
          <trans-unit id="113" translate="yes" xml:space="preserve">
            <source>Let’s start reviewing the configuration file of the client application that plays a central role in the definition of the WCF client and service endpoints used to communicate with the <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph>.</source>
            <target state="new">Let’s start reviewing the configuration file of the client application that plays a central role in the definition of the WCF client and service endpoints used to communicate with the <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph>.</target>
          </trans-unit>
        </group>
        <group id="77">
          <trans-unit id="114" translate="yes" xml:space="preserve">
            <source>Client Application App.Config</source>
            <target state="new">Client Application App.Config</target>
          </trans-unit>
        </group>
        <group id="78">
          <trans-unit id="115" translate="yes" xml:space="preserve">
            <source>Please find below a brief description of the main elements and sections of the configuration file:</source>
            <target state="new">Please find below a brief description of the main elements and sections of the configuration file:</target>
          </trans-unit>
        </group>
        <group id="79">
          <trans-unit id="116" translate="yes" xml:space="preserve">
            <source>Lines <bpt id="1">&lt;ui&gt;</bpt>[3-32]<ept id="1">&lt;/ui&gt;</ept> define a custom trace listener called <bpt id="2">&lt;ui&gt;</bpt>LogTraceListener<ept id="2">&lt;/ui&gt;</ept> used by the <bpt id="3">&lt;ui&gt;</bpt>ResponseHandlerService<ept id="3">&lt;/ui&gt;</ept> to write response message to the log control of the Windows Forms application.</source>
            <target state="new">Lines <bpt id="1">&lt;ui&gt;</bpt>[3-32]<ept id="1">&lt;/ui&gt;</ept> define a custom trace listener called <bpt id="2">&lt;ui&gt;</bpt>LogTraceListener<ept id="2">&lt;/ui&gt;</ept> used by the <bpt id="3">&lt;ui&gt;</bpt>ResponseHandlerService<ept id="3">&lt;/ui&gt;</ept> to write response message to the log control of the Windows Forms application.</target>
          </trans-unit>
        </group>
        <group id="80">
          <trans-unit id="117" translate="yes" xml:space="preserve">
            <source>Lines <bpt id="1">&lt;ui&gt;</bpt>[34-36]<ept id="1">&lt;/ui&gt;</ept> the startup section specifies which versions of the common language runtime the application supports.</source>
            <target state="new">Lines <bpt id="1">&lt;ui&gt;</bpt>[34-36]<ept id="1">&lt;/ui&gt;</ept> the startup section specifies which versions of the common language runtime the application supports.</target>
          </trans-unit>
        </group>
        <group id="81">
          <trans-unit id="118" translate="yes" xml:space="preserve">
            <source>Lines <bpt id="1">&lt;ui&gt;</bpt>[46-53]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>securityBehavior<ept id="2">&lt;/ui&gt;</ept> used by client and service endpoint to authenticate with the Access Control Service.</source>
            <target state="new">Lines <bpt id="1">&lt;ui&gt;</bpt>[46-53]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>securityBehavior<ept id="2">&lt;/ui&gt;</ept> used by client and service endpoint to authenticate with the Access Control Service.</target>
          </trans-unit>
          <trans-unit id="119" translate="yes" xml:space="preserve">
            <source>In particular, the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>TransportClientEndpointBehavior<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.transportclientendpointbehavior.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> is used to define shared secret credentials.</source>
            <target state="new">In particular, the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>TransportClientEndpointBehavior<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.transportclientendpointbehavior.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> is used to define shared secret credentials.</target>
          </trans-unit>
          <trans-unit id="120" translate="yes" xml:space="preserve">
            <source>For more information on how to retrieve credentials from the <bpt id="1">&lt;ui&gt;</bpt>Azure Management Portal<ept id="1">&lt;/ui&gt;</ept>, see the box below.</source>
            <target state="new">For more information on how to retrieve credentials from the <bpt id="1">&lt;ui&gt;</bpt>Azure Management Portal<ept id="1">&lt;/ui&gt;</ept>, see the box below.</target>
          </trans-unit>
        </group>
        <group id="82">
          <trans-unit id="121" translate="yes" xml:space="preserve">
            <source>Lines <bpt id="1">&lt;ui&gt;</bpt>[57-67]<ept id="1">&lt;/ui&gt;</ept> contain the configuration of the <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>NetMessagingBinding<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.netmessagingbinding.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> used by client and service endpoints to exchange messages with <ph id="5">&lt;token&gt;sb2&lt;/token&gt;</ph>.</source>
            <target state="new">Lines <bpt id="1">&lt;ui&gt;</bpt>[57-67]<ept id="1">&lt;/ui&gt;</ept> contain the configuration of the <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>NetMessagingBinding<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.netmessagingbinding.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> used by client and service endpoints to exchange messages with <ph id="5">&lt;token&gt;sb2&lt;/token&gt;</ph>.</target>
          </trans-unit>
        </group>
        <group id="83">
          <trans-unit id="122" translate="yes" xml:space="preserve">
            <source>Lines <bpt id="1">&lt;ui&gt;</bpt>[71-76]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>requestQueueClientEndpoint<ept id="2">&lt;/ui&gt;</ept> used by the application to send request messages to the <bpt id="3">&lt;ui&gt;</bpt>requestqueue<ept id="3">&lt;/ui&gt;</ept>.</source>
            <target state="new">Lines <bpt id="1">&lt;ui&gt;</bpt>[71-76]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>requestQueueClientEndpoint<ept id="2">&lt;/ui&gt;</ept> used by the application to send request messages to the <bpt id="3">&lt;ui&gt;</bpt>requestqueue<ept id="3">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="123" translate="yes" xml:space="preserve">
            <source>The <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept> of the client endpoint is given by the concatenation of the URL of the service namespace and the name of the queue.</source>
            <target state="new">The <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept> of the client endpoint is given by the concatenation of the URL of the service namespace and the name of the queue.</target>
          </trans-unit>
        </group>
        <group id="84">
          <trans-unit id="124" translate="yes" xml:space="preserve">
            <source>Lines <bpt id="1">&lt;ui&gt;</bpt>[78-83]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>requestTopicClientEndpoint<ept id="2">&lt;/ui&gt;</ept> used by the application to send request messages to the <bpt id="3">&lt;ui&gt;</bpt>requesttopic<ept id="3">&lt;/ui&gt;</ept>.</source>
            <target state="new">Lines <bpt id="1">&lt;ui&gt;</bpt>[78-83]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>requestTopicClientEndpoint<ept id="2">&lt;/ui&gt;</ept> used by the application to send request messages to the <bpt id="3">&lt;ui&gt;</bpt>requesttopic<ept id="3">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="125" translate="yes" xml:space="preserve">
            <source>The <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept> of the client endpoint is given by the concatenation of the URL of the service namespace and the name of the topic.</source>
            <target state="new">The <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept> of the client endpoint is given by the concatenation of the URL of the service namespace and the name of the topic.</target>
          </trans-unit>
        </group>
        <group id="85">
          <trans-unit id="126" translate="yes" xml:space="preserve">
            <source>Lines <bpt id="1">&lt;ui&gt;</bpt>[87-92]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>responseQueueServiceEndpoint<ept id="2">&lt;/ui&gt;</ept> used by the application to receive response messages from the <bpt id="3">&lt;ui&gt;</bpt>responsequeue<ept id="3">&lt;/ui&gt;</ept>.</source>
            <target state="new">Lines <bpt id="1">&lt;ui&gt;</bpt>[87-92]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>responseQueueServiceEndpoint<ept id="2">&lt;/ui&gt;</ept> used by the application to receive response messages from the <bpt id="3">&lt;ui&gt;</bpt>responsequeue<ept id="3">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="127" translate="yes" xml:space="preserve">
            <source>The <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept> of the service endpoint is given by the concatenation of the URL of the service namespace and the name of the queue.</source>
            <target state="new">The <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept> of the service endpoint is given by the concatenation of the URL of the service namespace and the name of the queue.</target>
          </trans-unit>
        </group>
        <group id="86">
          <trans-unit id="128" translate="yes" xml:space="preserve">
            <source>Lines <bpt id="1">&lt;ui&gt;</bpt>[93-99]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>responseSubscriptionServiceEndpoint<ept id="2">&lt;/ui&gt;</ept> used by the application to receive response messages from the <bpt id="3">&lt;ui&gt;</bpt>ItalyMilan<ept id="3">&lt;/ui&gt;</ept> subscription for the <bpt id="4">&lt;ui&gt;</bpt>responsetopic<ept id="4">&lt;/ui&gt;</ept>.</source>
            <target state="new">Lines <bpt id="1">&lt;ui&gt;</bpt>[93-99]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>responseSubscriptionServiceEndpoint<ept id="2">&lt;/ui&gt;</ept> used by the application to receive response messages from the <bpt id="3">&lt;ui&gt;</bpt>ItalyMilan<ept id="3">&lt;/ui&gt;</ept> subscription for the <bpt id="4">&lt;ui&gt;</bpt>responsetopic<ept id="4">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="129" translate="yes" xml:space="preserve">
            <source>When you define a WCF service endpoint that uses the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>NetMessagingBinding<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.netmessagingbinding.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> to receive messages from a subscription, you have to proceed as follows (for more information on this, see the box below):</source>
            <target state="new">When you define a WCF service endpoint that uses the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>NetMessagingBinding<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.netmessagingbinding.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> to receive messages from a subscription, you have to proceed as follows (for more information on this, see the box below):</target>
          </trans-unit>
        </group>
        <group id="87">
          <trans-unit id="130" translate="yes" xml:space="preserve">
            <source>As value of the <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept> attribute, you have specify the URL of the topic which the subscription belongs to.</source>
            <target state="new">As value of the <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept> attribute, you have specify the URL of the topic which the subscription belongs to.</target>
          </trans-unit>
          <trans-unit id="131" translate="yes" xml:space="preserve">
            <source>The URL of the topic is given by the concatenation of the URL of the service namespace and the name of the topic.</source>
            <target state="new">The URL of the topic is given by the concatenation of the URL of the service namespace and the name of the topic.</target>
          </trans-unit>
        </group>
        <group id="88">
          <trans-unit id="132" translate="yes" xml:space="preserve">
            <source>As value of the <bpt id="1">&lt;ui&gt;</bpt>listenUri<ept id="1">&lt;/ui&gt;</ept> attribute, you have to specify the URL of the subscription.</source>
            <target state="new">As value of the <bpt id="1">&lt;ui&gt;</bpt>listenUri<ept id="1">&lt;/ui&gt;</ept> attribute, you have to specify the URL of the subscription.</target>
          </trans-unit>
          <trans-unit id="133" translate="yes" xml:space="preserve">
            <source>The URL of the subscription is defined by the concatenation of the topic URL, the string /<bpt id="1">&lt;ui&gt;</bpt>Subscriptions<ept id="1">&lt;/ui&gt;</ept>/ and the name of the subscription.</source>
            <target state="new">The URL of the subscription is defined by the concatenation of the topic URL, the string /<bpt id="1">&lt;ui&gt;</bpt>Subscriptions<ept id="1">&lt;/ui&gt;</ept>/ and the name of the subscription.</target>
          </trans-unit>
        </group>
        <group id="89">
          <trans-unit id="134" translate="yes" xml:space="preserve">
            <source>Assign the value <bpt id="1">&lt;ui&gt;</bpt>Explicit<ept id="1">&lt;/ui&gt;</ept> to the <bpt id="2">&lt;ui&gt;</bpt>listenUriMode<ept id="2">&lt;/ui&gt;</ept> attribute.</source>
            <target state="new">Assign the value <bpt id="1">&lt;ui&gt;</bpt>Explicit<ept id="1">&lt;/ui&gt;</ept> to the <bpt id="2">&lt;ui&gt;</bpt>listenUriMode<ept id="2">&lt;/ui&gt;</ept> attribute.</target>
          </trans-unit>
          <trans-unit id="135" translate="yes" xml:space="preserve">
            <source>The default value for the <bpt id="1">&lt;ui&gt;</bpt>listenUriMode<ept id="1">&lt;/ui&gt;</ept> is <bpt id="2">&lt;ui&gt;</bpt>Explicit<ept id="2">&lt;/ui&gt;</ept>, so this setting is optional.</source>
            <target state="new">The default value for the <bpt id="1">&lt;ui&gt;</bpt>listenUriMode<ept id="1">&lt;/ui&gt;</ept> is <bpt id="2">&lt;ui&gt;</bpt>Explicit<ept id="2">&lt;/ui&gt;</ept>, so this setting is optional.</target>
          </trans-unit>
        </group>
        <group id="90">
          <trans-unit id="136" translate="yes" xml:space="preserve">
            <source>When you configure a WCF service endpoint to consume messages from a sessionful queue or subscription, the service contract needs to support sessions.</source>
            <target state="new">When you configure a WCF service endpoint to consume messages from a sessionful queue or subscription, the service contract needs to support sessions.</target>
          </trans-unit>
          <trans-unit id="137" translate="yes" xml:space="preserve">
            <source>Therefore, in our sample, when you configure the <bpt id="1">&lt;ui&gt;</bpt>responseQueueServiceEndpoint<ept id="1">&lt;/ui&gt;</ept> or <bpt id="2">&lt;ui&gt;</bpt>responseSubscriptionServiceEndpoint<ept id="2">&lt;/ui&gt;</ept> endpoints to receive, respectively, from a sessionful queue and subscription, you have to replace the <bpt id="3">&lt;ui&gt;</bpt>ICalculatorResponse<ept id="3">&lt;/ui&gt;</ept> service contract with the sessionful <bpt id="4">&lt;ui&gt;</bpt>ICalculatorResponseSessionful<ept id="4">&lt;/ui&gt;</ept> contract interface.</source>
            <target state="new">Therefore, in our sample, when you configure the <bpt id="1">&lt;ui&gt;</bpt>responseQueueServiceEndpoint<ept id="1">&lt;/ui&gt;</ept> or <bpt id="2">&lt;ui&gt;</bpt>responseSubscriptionServiceEndpoint<ept id="2">&lt;/ui&gt;</ept> endpoints to receive, respectively, from a sessionful queue and subscription, you have to replace the <bpt id="3">&lt;ui&gt;</bpt>ICalculatorResponse<ept id="3">&lt;/ui&gt;</ept> service contract with the sessionful <bpt id="4">&lt;ui&gt;</bpt>ICalculatorResponseSessionful<ept id="4">&lt;/ui&gt;</ept> contract interface.</target>
          </trans-unit>
          <trans-unit id="138" translate="yes" xml:space="preserve">
            <source>For more information, see the <bpt id="1">&lt;ui&gt;</bpt>Service Contracts<ept id="1">&lt;/ui&gt;</ept> section later in the article.</source>
            <target state="new">For more information, see the <bpt id="1">&lt;ui&gt;</bpt>Service Contracts<ept id="1">&lt;/ui&gt;</ept> section later in the article.</target>
          </trans-unit>
        </group>
        <group id="91">
          <trans-unit id="139" translate="yes" xml:space="preserve">
            <source><ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> supports three different types of credential schemes: <bpt id="2">&lt;ui&gt;</bpt>SAML<ept id="2">&lt;/ui&gt;</ept>, <bpt id="3">&lt;ui&gt;</bpt>Shared Secret<ept id="3">&lt;/ui&gt;</ept>, and <bpt id="4">&lt;ui&gt;</bpt>Simple Web Token<ept id="4">&lt;/ui&gt;</ept>, but this version of the <bpt id="5">&lt;ui&gt;</bpt>Service Bus Explorer<ept id="5">&lt;/ui&gt;</ept> supports only <bpt id="6">&lt;ui&gt;</bpt>Shared Secret<ept id="6">&lt;/ui&gt;</ept> credentials.</source>
            <target state="new"><ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> supports three different types of credential schemes: <bpt id="2">&lt;ui&gt;</bpt>SAML<ept id="2">&lt;/ui&gt;</ept>, <bpt id="3">&lt;ui&gt;</bpt>Shared Secret<ept id="3">&lt;/ui&gt;</ept>, and <bpt id="4">&lt;ui&gt;</bpt>Simple Web Token<ept id="4">&lt;/ui&gt;</ept>, but this version of the <bpt id="5">&lt;ui&gt;</bpt>Service Bus Explorer<ept id="5">&lt;/ui&gt;</ept> supports only <bpt id="6">&lt;ui&gt;</bpt>Shared Secret<ept id="6">&lt;/ui&gt;</ept> credentials.</target>
          </trans-unit>
          <trans-unit id="140" translate="yes" xml:space="preserve">
            <source>However, you can easily extend my code to support other credential schemes.</source>
            <target state="new">However, you can easily extend my code to support other credential schemes.</target>
          </trans-unit>
          <trans-unit id="141" translate="yes" xml:space="preserve">
            <source>You can retrieve the issuer-secret key from the <bpt id="1">&lt;ui&gt;</bpt>Azure Management Portal<ept id="1">&lt;/ui&gt;</ept> by clicking the <bpt id="2">&lt;ui&gt;</bpt>View<ept id="2">&lt;/ui&gt;</ept> button after selecting a certain namespace in the <bpt id="3">&lt;ui&gt;</bpt>Service Bus<ept id="3">&lt;/ui&gt;</ept> section.</source>
            <target state="new">You can retrieve the issuer-secret key from the <bpt id="1">&lt;ui&gt;</bpt>Azure Management Portal<ept id="1">&lt;/ui&gt;</ept> by clicking the <bpt id="2">&lt;ui&gt;</bpt>View<ept id="2">&lt;/ui&gt;</ept> button after selecting a certain namespace in the <bpt id="3">&lt;ui&gt;</bpt>Service Bus<ept id="3">&lt;/ui&gt;</ept> section.</target>
          </trans-unit>
        </group>
        <group id="92">
          <trans-unit id="142" translate="yes" xml:space="preserve">
            <source>This opens up the modal dialog where you can retrieve the key by clicking the <bpt id="1">&lt;ui&gt;</bpt>Copy to Clipboard<ept id="1">&lt;/ui&gt;</ept> highlighted in red.</source>
            <target state="new">This opens up the modal dialog where you can retrieve the key by clicking the <bpt id="1">&lt;ui&gt;</bpt>Copy to Clipboard<ept id="1">&lt;/ui&gt;</ept> highlighted in red.</target>
          </trans-unit>
        </group>
        <group id="93">
          <trans-unit id="143" translate="yes" xml:space="preserve">
            <source>By convention, the name of the <bpt id="1">&lt;ui&gt;</bpt>Default Issuer<ept id="1">&lt;/ui&gt;</ept> is always <bpt id="2">&lt;ui&gt;</bpt>owner<ept id="2">&lt;/ui&gt;</ept>.</source>
            <target state="new">By convention, the name of the <bpt id="1">&lt;ui&gt;</bpt>Default Issuer<ept id="1">&lt;/ui&gt;</ept> is always <bpt id="2">&lt;ui&gt;</bpt>owner<ept id="2">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="94">
          <trans-unit id="144" translate="yes" xml:space="preserve">
            <source>When you define a WCF service endpoint that uses the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>NetMessagingBinding<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.netmessagingbinding.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> to receive messages from a subscription, if you make the mistake to assign the URL of the subscription to the address attribute of the service endpoint (as reported in configuration below), at runtime an <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>FaultException<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.faultexception.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> like the following will occur:</source>
            <target state="new">When you define a WCF service endpoint that uses the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>NetMessagingBinding<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.netmessagingbinding.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> to receive messages from a subscription, if you make the mistake to assign the URL of the subscription to the address attribute of the service endpoint (as reported in configuration below), at runtime an <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>FaultException<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.faultexception.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> like the following will occur:</target>
          </trans-unit>
        </group>
        <group id="95">
          <trans-unit id="145" translate="yes" xml:space="preserve">
            <source>Wrong Configuration</source>
            <target state="new">Wrong Configuration</target>
          </trans-unit>
        </group>
        <group id="96">
          <trans-unit id="146" translate="yes" xml:space="preserve">
            <source>The error is due to the fact the WS-Addressing <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>To<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.channels.messageheaders.to.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> header of the message contains the address of the topic and not the address of the subscription:</source>
            <target state="new">The error is due to the fact the WS-Addressing <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>To<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.channels.messageheaders.to.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> header of the message contains the address of the topic and not the address of the subscription:</target>
          </trans-unit>
        </group>
        <group id="97">
          <trans-unit id="147" translate="yes" xml:space="preserve">
            <source>To correctly configure the service endpoint to receive messages from a subscription, you have to proceed as follows:</source>
            <target state="new">To correctly configure the service endpoint to receive messages from a subscription, you have to proceed as follows:</target>
          </trans-unit>
        </group>
        <group id="98">
          <trans-unit id="148" translate="yes" xml:space="preserve">
            <source>As value of the <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept> attribute, you have specify the URL of the topic which the subscription belongs to.</source>
            <target state="new">As value of the <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept> attribute, you have specify the URL of the topic which the subscription belongs to.</target>
          </trans-unit>
          <trans-unit id="149" translate="yes" xml:space="preserve">
            <source>The URL of the topic is given by the concatenation of the URL of the service namespace and the name of the topic.</source>
            <target state="new">The URL of the topic is given by the concatenation of the URL of the service namespace and the name of the topic.</target>
          </trans-unit>
        </group>
        <group id="99">
          <trans-unit id="150" translate="yes" xml:space="preserve">
            <source>As value of the <bpt id="1">&lt;ui&gt;</bpt>listenUri<ept id="1">&lt;/ui&gt;</ept> attribute, you have to specify the URL of the subscription.</source>
            <target state="new">As value of the <bpt id="1">&lt;ui&gt;</bpt>listenUri<ept id="1">&lt;/ui&gt;</ept> attribute, you have to specify the URL of the subscription.</target>
          </trans-unit>
          <trans-unit id="151" translate="yes" xml:space="preserve">
            <source>The URL of the subscription is defined by the concatenation of the topic URL, the string /<bpt id="1">&lt;ui&gt;</bpt>Subscriptions<ept id="1">&lt;/ui&gt;</ept>/ and the name of the subscription.</source>
            <target state="new">The URL of the subscription is defined by the concatenation of the topic URL, the string /<bpt id="1">&lt;ui&gt;</bpt>Subscriptions<ept id="1">&lt;/ui&gt;</ept>/ and the name of the subscription.</target>
          </trans-unit>
        </group>
        <group id="100">
          <trans-unit id="152" translate="yes" xml:space="preserve">
            <source>Assign the value <bpt id="1">&lt;ui&gt;</bpt>Explicit<ept id="1">&lt;/ui&gt;</ept> to the <bpt id="2">&lt;ui&gt;</bpt>listenUriMode<ept id="2">&lt;/ui&gt;</ept> attribute.</source>
            <target state="new">Assign the value <bpt id="1">&lt;ui&gt;</bpt>Explicit<ept id="1">&lt;/ui&gt;</ept> to the <bpt id="2">&lt;ui&gt;</bpt>listenUriMode<ept id="2">&lt;/ui&gt;</ept> attribute.</target>
          </trans-unit>
          <trans-unit id="153" translate="yes" xml:space="preserve">
            <source>The default value for the <bpt id="1">&lt;ui&gt;</bpt>listenUriMode<ept id="1">&lt;/ui&gt;</ept> is <bpt id="2">&lt;ui&gt;</bpt>Explicit<ept id="2">&lt;/ui&gt;</ept>, so this setting is optional.</source>
            <target state="new">The default value for the <bpt id="1">&lt;ui&gt;</bpt>listenUriMode<ept id="1">&lt;/ui&gt;</ept> is <bpt id="2">&lt;ui&gt;</bpt>Explicit<ept id="2">&lt;/ui&gt;</ept>, so this setting is optional.</target>
          </trans-unit>
        </group>
        <group id="101">
          <trans-unit id="154" translate="yes" xml:space="preserve">
            <source>See the following page on MSDN for a description of the <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept>, <bpt id="2">&lt;ui&gt;</bpt>listenUri<ept id="2">&lt;/ui&gt;</ept> and <bpt id="3">&lt;ui&gt;</bpt>listenUriMode<ept id="3">&lt;/ui&gt;</ept> attributes.</source>
            <target state="new">See the following page on MSDN for a description of the <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept>, <bpt id="2">&lt;ui&gt;</bpt>listenUri<ept id="2">&lt;/ui&gt;</ept> and <bpt id="3">&lt;ui&gt;</bpt>listenUriMode<ept id="3">&lt;/ui&gt;</ept> attributes.</target>
          </trans-unit>
        </group>
        <group id="102">
          <trans-unit id="155" translate="yes" xml:space="preserve">
            <source>Correct Configuration</source>
            <target state="new">Correct Configuration</target>
          </trans-unit>
        </group>
        <group id="103">
          <trans-unit id="156" translate="yes" xml:space="preserve">
            <source>To accomplish the same task via API, you have to properly set the value of the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Address<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.description.serviceendpoint.address.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept>, <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>ListenUri<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.description.serviceendpoint.listenuri.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> and <bpt id="7">&lt;externalLink&gt;</bpt><bpt id="8">&lt;linkText&gt;</bpt>ListenUriMode<ept id="8">&lt;/linkText&gt;</ept><ph id="9">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.description.serviceendpoint.listenurimode.aspx&lt;/linkUri&gt;</ph><ept id="7">&lt;/externalLink&gt;</ept> properties of your <bpt id="10">&lt;externalLink&gt;</bpt><bpt id="11">&lt;linkText&gt;</bpt>ServiceEndpoint<ept id="11">&lt;/linkText&gt;</ept><ph id="12">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.description.serviceendpoint.aspx&lt;/linkUri&gt;</ph><ept id="10">&lt;/externalLink&gt;</ept> instance as indicated in this note.</source>
            <target state="new">To accomplish the same task via API, you have to properly set the value of the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Address<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.description.serviceendpoint.address.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept>, <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>ListenUri<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.description.serviceendpoint.listenuri.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> and <bpt id="7">&lt;externalLink&gt;</bpt><bpt id="8">&lt;linkText&gt;</bpt>ListenUriMode<ept id="8">&lt;/linkText&gt;</ept><ph id="9">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.description.serviceendpoint.listenurimode.aspx&lt;/linkUri&gt;</ph><ept id="7">&lt;/externalLink&gt;</ept> properties of your <bpt id="10">&lt;externalLink&gt;</bpt><bpt id="11">&lt;linkText&gt;</bpt>ServiceEndpoint<ept id="11">&lt;/linkText&gt;</ept><ph id="12">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.description.serviceendpoint.aspx&lt;/linkUri&gt;</ph><ept id="10">&lt;/externalLink&gt;</ept> instance as indicated in this note.</target>
          </trans-unit>
        </group>
        <group id="104">
          <trans-unit id="157" translate="yes" xml:space="preserve">
            <source>The following table shows the code used by the client application to start the <bpt id="1">&lt;ui&gt;</bpt>ResponseHandlerService<ept id="1">&lt;/ui&gt;</ept> used to read response messages from the <bpt id="2">&lt;ui&gt;</bpt>responsequeue<ept id="2">&lt;/ui&gt;</ept> and the <bpt id="3">&lt;ui&gt;</bpt>ItalyMilan<ept id="3">&lt;/ui&gt;</ept> subscription of the <bpt id="4">&lt;ui&gt;</bpt>responsetopic<ept id="4">&lt;/ui&gt;</ept>.</source>
            <target state="new">The following table shows the code used by the client application to start the <bpt id="1">&lt;ui&gt;</bpt>ResponseHandlerService<ept id="1">&lt;/ui&gt;</ept> used to read response messages from the <bpt id="2">&lt;ui&gt;</bpt>responsequeue<ept id="2">&lt;/ui&gt;</ept> and the <bpt id="3">&lt;ui&gt;</bpt>ItalyMilan<ept id="3">&lt;/ui&gt;</ept> subscription of the <bpt id="4">&lt;ui&gt;</bpt>responsetopic<ept id="4">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="158" translate="yes" xml:space="preserve">
            <source>We’ll examine the code of the service in the next section.</source>
            <target state="new">We’ll examine the code of the service in the next section.</target>
          </trans-unit>
        </group>
        <group id="105">
          <trans-unit id="159" translate="yes" xml:space="preserve">
            <source>StartServiceHost Method</source>
            <target state="new">StartServiceHost Method</target>
          </trans-unit>
        </group>
        <group id="106">
          <trans-unit id="160" translate="yes" xml:space="preserve">
            <source>The following picture shows the user interface of the client application:</source>
            <target state="new">The following picture shows the user interface of the client application:</target>
          </trans-unit>
        </group>
        <group id="107">
          <trans-unit id="161" translate="yes" xml:space="preserve">
            <source>The radio buttons contained in the <bpt id="1">&lt;ui&gt;</bpt>Request Method<ept id="1">&lt;/ui&gt;</ept> group allows choosing whether to send the request message to the <bpt id="2">&lt;ui&gt;</bpt>requestqueue<ept id="2">&lt;/ui&gt;</ept> or the <bpt id="3">&lt;ui&gt;</bpt>requesttopic<ept id="3">&lt;/ui&gt;</ept>, whereas the radio buttons contained in the <bpt id="4">&lt;ui&gt;</bpt>Response Method<ept id="4">&lt;/ui&gt;</ept> group allows selecting whether receive the response from the <bpt id="5">&lt;ui&gt;</bpt>responsequeue<ept id="5">&lt;/ui&gt;</ept> or the <bpt id="6">&lt;ui&gt;</bpt>ItalyMilan<ept id="6">&lt;/ui&gt;</ept> subscription of the <bpt id="7">&lt;ui&gt;</bpt>responsetopic<ept id="7">&lt;/ui&gt;</ept>.</source>
            <target state="new">The radio buttons contained in the <bpt id="1">&lt;ui&gt;</bpt>Request Method<ept id="1">&lt;/ui&gt;</ept> group allows choosing whether to send the request message to the <bpt id="2">&lt;ui&gt;</bpt>requestqueue<ept id="2">&lt;/ui&gt;</ept> or the <bpt id="3">&lt;ui&gt;</bpt>requesttopic<ept id="3">&lt;/ui&gt;</ept>, whereas the radio buttons contained in the <bpt id="4">&lt;ui&gt;</bpt>Response Method<ept id="4">&lt;/ui&gt;</ept> group allows selecting whether receive the response from the <bpt id="5">&lt;ui&gt;</bpt>responsequeue<ept id="5">&lt;/ui&gt;</ept> or the <bpt id="6">&lt;ui&gt;</bpt>ItalyMilan<ept id="6">&lt;/ui&gt;</ept> subscription of the <bpt id="7">&lt;ui&gt;</bpt>responsetopic<ept id="7">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="162" translate="yes" xml:space="preserve">
            <source>To communicate the selection to the underlying BizTalk application, the application uses a <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>BrokeredMessageProperty<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.brokeredmessageproperty.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> object to assign the value of the <bpt id="4">&lt;ui&gt;</bpt>responseQueueUri<ept id="4">&lt;/ui&gt;</ept> or <bpt id="5">&lt;ui&gt;</bpt>responseTopicUri<ept id="5">&lt;/ui&gt;</ept> private fields to the <bpt id="6">&lt;externalLink&gt;</bpt><bpt id="7">&lt;linkText&gt;</bpt>ReplyTo<ept id="7">&lt;/linkText&gt;</ept><ph id="8">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.brokeredmessageproperty.replyto.aspx&lt;/linkUri&gt;</ph><ept id="6">&lt;/externalLink&gt;</ept> property.</source>
            <target state="new">To communicate the selection to the underlying BizTalk application, the application uses a <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>BrokeredMessageProperty<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.brokeredmessageproperty.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> object to assign the value of the <bpt id="4">&lt;ui&gt;</bpt>responseQueueUri<ept id="4">&lt;/ui&gt;</ept> or <bpt id="5">&lt;ui&gt;</bpt>responseTopicUri<ept id="5">&lt;/ui&gt;</ept> private fields to the <bpt id="6">&lt;externalLink&gt;</bpt><bpt id="7">&lt;linkText&gt;</bpt>ReplyTo<ept id="7">&lt;/linkText&gt;</ept><ph id="8">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.brokeredmessageproperty.replyto.aspx&lt;/linkUri&gt;</ph><ept id="6">&lt;/externalLink&gt;</ept> property.</target>
          </trans-unit>
          <trans-unit id="163" translate="yes" xml:space="preserve">
            <source>The following table contains the code of the method used by the client application to send message to <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph>.</source>
            <target state="new">The following table contains the code of the method used by the client application to send message to <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph>.</target>
          </trans-unit>
          <trans-unit id="164" translate="yes" xml:space="preserve">
            <source>For your convenience, comments have been added to the code to facilitate its understanding.</source>
            <target state="new">For your convenience, comments have been added to the code to facilitate its understanding.</target>
          </trans-unit>
        </group>
        <group id="108">
          <trans-unit id="165" translate="yes" xml:space="preserve">
            <source>SendRequestMessageUsingWCF Method</source>
            <target state="new">SendRequestMessageUsingWCF Method</target>
          </trans-unit>
        </group>
        <group id="109">
          <trans-unit id="166" translate="yes" xml:space="preserve">
            <source>Response Handler Service</source>
            <target state="new">Response Handler Service</target>
          </trans-unit>
        </group>
        <group id="110">
          <trans-unit id="167" translate="yes" xml:space="preserve">
            <source>The following table contains the code of the WCF service used by the client application to retrieve and log response messages from the <bpt id="1">&lt;ui&gt;</bpt>responsequeue<ept id="1">&lt;/ui&gt;</ept> and <bpt id="2">&lt;ui&gt;</bpt>ItalyMilan<ept id="2">&lt;/ui&gt;</ept> subscription of the <bpt id="3">&lt;ui&gt;</bpt>responsetopic<ept id="3">&lt;/ui&gt;</ept>.</source>
            <target state="new">The following table contains the code of the WCF service used by the client application to retrieve and log response messages from the <bpt id="1">&lt;ui&gt;</bpt>responsequeue<ept id="1">&lt;/ui&gt;</ept> and <bpt id="2">&lt;ui&gt;</bpt>ItalyMilan<ept id="2">&lt;/ui&gt;</ept> subscription of the <bpt id="3">&lt;ui&gt;</bpt>responsetopic<ept id="3">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="168" translate="yes" xml:space="preserve">
            <source>To accomplish this result, the service exposes two different endpoints each of which uses the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>NetMessagingBinding<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.netmessagingbinding.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> and receives messages from one of the two queues.</source>
            <target state="new">To accomplish this result, the service exposes two different endpoints each of which uses the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>NetMessagingBinding<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.netmessagingbinding.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> and receives messages from one of the two queues.</target>
          </trans-unit>
          <trans-unit id="169" translate="yes" xml:space="preserve">
            <source>Indeed, each subscription can be seen as a virtual queue getting copies of messages published to the topic they belong to.</source>
            <target state="new">Indeed, each subscription can be seen as a virtual queue getting copies of messages published to the topic they belong to.</target>
          </trans-unit>
          <trans-unit id="170" translate="yes" xml:space="preserve">
            <source>The table below shows the code of the <bpt id="1">&lt;ui&gt;</bpt>ResponseHandlerService<ept id="1">&lt;/ui&gt;</ept> class.</source>
            <target state="new">The table below shows the code of the <bpt id="1">&lt;ui&gt;</bpt>ResponseHandlerService<ept id="1">&lt;/ui&gt;</ept> class.</target>
          </trans-unit>
          <trans-unit id="171" translate="yes" xml:space="preserve">
            <source>As you can notice, the service retrieves the <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="1">&lt;/ui&gt;</ept> from the <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>Properties<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.channels.message.properties.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> collection of the incoming WCF <bpt id="5">&lt;externalLink&gt;</bpt><bpt id="6">&lt;linkText&gt;</bpt>message<ept id="6">&lt;/linkText&gt;</ept><ph id="7">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.channels.message.aspx&lt;/linkUri&gt;</ph><ept id="5">&lt;/externalLink&gt;</ept> and uses this object to access to the properties of the response message.</source>
            <target state="new">As you can notice, the service retrieves the <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="1">&lt;/ui&gt;</ept> from the <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>Properties<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.channels.message.properties.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> collection of the incoming WCF <bpt id="5">&lt;externalLink&gt;</bpt><bpt id="6">&lt;linkText&gt;</bpt>message<ept id="6">&lt;/linkText&gt;</ept><ph id="7">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.channels.message.aspx&lt;/linkUri&gt;</ph><ept id="5">&lt;/externalLink&gt;</ept> and uses this object to access to the properties of the response message.</target>
          </trans-unit>
          <trans-unit id="172" translate="yes" xml:space="preserve">
            <source>Since in the <bpt id="1">&lt;ui&gt;</bpt>ICalculatorResponse<ept id="1">&lt;/ui&gt;</ept> service contract the <bpt id="2">&lt;ui&gt;</bpt>ReceiveResponse<ept id="2">&lt;/ui&gt;</ept> method is decorated with the <bpt id="3">&lt;externalLink&gt;</bpt><bpt id="4">&lt;linkText&gt;</bpt>[ReceiveContextEnabled(ManualControl = true)]<ept id="4">&lt;/linkText&gt;</ept><ph id="5">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.receivecontextenabledattribute.aspx&lt;/linkUri&gt;</ph><ept id="3">&lt;/externalLink&gt;</ept>, the receive acknowledgement must be explicitly signaled by service method.</source>
            <target state="new">Since in the <bpt id="1">&lt;ui&gt;</bpt>ICalculatorResponse<ept id="1">&lt;/ui&gt;</ept> service contract the <bpt id="2">&lt;ui&gt;</bpt>ReceiveResponse<ept id="2">&lt;/ui&gt;</ept> method is decorated with the <bpt id="3">&lt;externalLink&gt;</bpt><bpt id="4">&lt;linkText&gt;</bpt>[ReceiveContextEnabled(ManualControl = true)]<ept id="4">&lt;/linkText&gt;</ept><ph id="5">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.receivecontextenabledattribute.aspx&lt;/linkUri&gt;</ph><ept id="3">&lt;/externalLink&gt;</ept>, the receive acknowledgement must be explicitly signaled by service method.</target>
          </trans-unit>
          <trans-unit id="173" translate="yes" xml:space="preserve">
            <source>This requires the service to explicitly invoke the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>ReceiveContext.Complete<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.channels.receivecontext.complete.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> method to commit the receive operation.</source>
            <target state="new">This requires the service to explicitly invoke the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>ReceiveContext.Complete<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.channels.receivecontext.complete.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> method to commit the receive operation.</target>
          </trans-unit>
          <trans-unit id="174" translate="yes" xml:space="preserve">
            <source>In fact, as we said at the beginning of the article, when the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>ManualControl<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.receivecontextenabledattribute.manualcontrol.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> property is set to true, the message received from the channel is delivered to the service operation with a lock for the message.</source>
            <target state="new">In fact, as we said at the beginning of the article, when the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>ManualControl<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.receivecontextenabledattribute.manualcontrol.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> property is set to true, the message received from the channel is delivered to the service operation with a lock for the message.</target>
          </trans-unit>
          <trans-unit id="175" translate="yes" xml:space="preserve">
            <source>It is the responsibility of the service implementation to either to call <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Complete(TimeSpan)<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.channels.receivecontext.complete.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> or <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>Abandon(TimeSpan)<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/dd289563.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> to signal the receive completion of the message.</source>
            <target state="new">It is the responsibility of the service implementation to either to call <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Complete(TimeSpan)<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.channels.receivecontext.complete.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> or <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>Abandon(TimeSpan)<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/dd289563.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> to signal the receive completion of the message.</target>
          </trans-unit>
          <trans-unit id="176" translate="yes" xml:space="preserve">
            <source>Failure to call either of these results in the lock being held on the message until the lock timeout interval elapses.</source>
            <target state="new">Failure to call either of these results in the lock being held on the message until the lock timeout interval elapses.</target>
          </trans-unit>
          <trans-unit id="177" translate="yes" xml:space="preserve">
            <source>Once the lock is released (either through calling <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Abandon(TimeSpan)<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/dd289563.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> or lock timeout) the message is re-dispatched from the channel to the service.</source>
            <target state="new">Once the lock is released (either through calling <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Abandon(TimeSpan)<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/dd289563.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> or lock timeout) the message is re-dispatched from the channel to the service.</target>
          </trans-unit>
          <trans-unit id="178" translate="yes" xml:space="preserve">
            <source>Calling <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Complete(TimeSpan)<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.channels.receivecontext.complete.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> marks the message as successfully received.</source>
            <target state="new">Calling <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Complete(TimeSpan)<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.channels.receivecontext.complete.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> marks the message as successfully received.</target>
          </trans-unit>
        </group>
        <group id="111">
          <trans-unit id="179" translate="yes" xml:space="preserve">
            <source>ResponseHandlerService Class</source>
            <target state="new">ResponseHandlerService Class</target>
          </trans-unit>
        </group>
        <group id="112">
          <trans-unit id="180" translate="yes" xml:space="preserve">
            <source>BrokeredMessagePropertyActivity</source>
            <target state="new">BrokeredMessagePropertyActivity</target>
          </trans-unit>
        </group>
        <group id="113">
          <trans-unit id="181" translate="yes" xml:space="preserve">
            <source>WCF workflow services provide a productive environment for authoring long-running, durable operations or services.</source>
            <target state="new">WCF workflow services provide a productive environment for authoring long-running, durable operations or services.</target>
          </trans-unit>
          <trans-unit id="182" translate="yes" xml:space="preserve">
            <source>Workflow services are implemented using WF activities that can make use of WCF for sending and receiving data.</source>
            <target state="new">Workflow services are implemented using WF activities that can make use of WCF for sending and receiving data.</target>
          </trans-unit>
          <trans-unit id="183" translate="yes" xml:space="preserve">
            <source>Explaining in detail how to build a WCF workflow service is out of the scope of the present article.</source>
            <target state="new">Explaining in detail how to build a WCF workflow service is out of the scope of the present article.</target>
          </trans-unit>
          <trans-unit id="184" translate="yes" xml:space="preserve">
            <source>For more information on WCF workflow services, see the following articles:</source>
            <target state="new">For more information on WCF workflow services, see the following articles:</target>
          </trans-unit>
        </group>
        <group id="114">
          <trans-unit id="185" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>How to: Create a Workflow Service with Messaging Activities<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/ee358734.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> topic on MSDN.</source>
            <target state="new"><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>How to: Create a Workflow Service with Messaging Activities<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/ee358734.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> topic on MSDN.</target>
          </trans-unit>
        </group>
        <group id="115">
          <trans-unit id="186" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Visual Design of Workflows with WCF and WF 4<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/magazine/ff646977.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> article on MSDN Magazine.</source>
            <target state="new"><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Visual Design of Workflows with WCF and WF 4<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/magazine/ff646977.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> article on MSDN Magazine.</target>
          </trans-unit>
        </group>
        <group id="116">
          <trans-unit id="187" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Building WCF Workflow Services and Hosting in AppFabric<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://seroter.wordpress.com/2009/12/17/building-wcf-workflow-services-and-hosting-in-appfabric/&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> post on Richard Seroter’s blog.</source>
            <target state="new"><bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Building WCF Workflow Services and Hosting in AppFabric<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://seroter.wordpress.com/2009/12/17/building-wcf-workflow-services-and-hosting-in-appfabric/&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> post on Richard Seroter’s blog.</target>
          </trans-unit>
        </group>
        <group id="117">
          <trans-unit id="188" translate="yes" xml:space="preserve">
            <source>WF 4.0 introduced <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Messaging Activities<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/ee358739.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> that allow developers to expose or consume WCF services in an easy and flexible way.</source>
            <target state="new">WF 4.0 introduced <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Messaging Activities<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/ee358739.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> that allow developers to expose or consume WCF services in an easy and flexible way.</target>
          </trans-unit>
          <trans-unit id="189" translate="yes" xml:space="preserve">
            <source>In particular, Messaging activities enable workflows to send data out to other systems (<bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Send<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.workflow.activities.sendactivity.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept>, <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>SendReply<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.sendreply.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept>), and to receive data from other systems (<bpt id="7">&lt;externalLink&gt;</bpt><bpt id="8">&lt;linkText&gt;</bpt>Receive<ept id="8">&lt;/linkText&gt;</ept><ph id="9">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.workflow.activities.receiveactivity.aspx&lt;/linkUri&gt;</ph><ept id="7">&lt;/externalLink&gt;</ept>, <bpt id="10">&lt;externalLink&gt;</bpt><bpt id="11">&lt;linkText&gt;</bpt>ReceiveReply<ept id="11">&lt;/linkText&gt;</ept><ph id="12">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.receivereply.aspx&lt;/linkUri&gt;</ph><ept id="10">&lt;/externalLink&gt;</ept>) using WCF.</source>
            <target state="new">In particular, Messaging activities enable workflows to send data out to other systems (<bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Send<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.workflow.activities.sendactivity.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept>, <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>SendReply<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.sendreply.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept>), and to receive data from other systems (<bpt id="7">&lt;externalLink&gt;</bpt><bpt id="8">&lt;linkText&gt;</bpt>Receive<ept id="8">&lt;/linkText&gt;</ept><ph id="9">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.workflow.activities.receiveactivity.aspx&lt;/linkUri&gt;</ph><ept id="7">&lt;/externalLink&gt;</ept>, <bpt id="10">&lt;externalLink&gt;</bpt><bpt id="11">&lt;linkText&gt;</bpt>ReceiveReply<ept id="11">&lt;/linkText&gt;</ept><ph id="12">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.receivereply.aspx&lt;/linkUri&gt;</ph><ept id="10">&lt;/externalLink&gt;</ept>) using WCF.</target>
          </trans-unit>
          <trans-unit id="190" translate="yes" xml:space="preserve">
            <source>However, these activities hide lot of WCF plumbing.</source>
            <target state="new">However, these activities hide lot of WCF plumbing.</target>
          </trans-unit>
          <trans-unit id="191" translate="yes" xml:space="preserve">
            <source>In particular, <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Messaging Activities<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/ee358739.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> do not provide access to the current <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>OperationContext<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.operationcontext.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> that can be used to perform the following operation:</source>
            <target state="new">In particular, <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Messaging Activities<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/ee358739.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> do not provide access to the current <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>OperationContext<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.operationcontext.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> that can be used to perform the following operation:</target>
          </trans-unit>
        </group>
        <group id="118">
          <trans-unit id="192" translate="yes" xml:space="preserve">
            <source>On the send side, the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>OperationContext<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.operationcontext.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> can be used to include additional message headers in the SOAP envelope or add message properties to the outgoing message.</source>
            <target state="new">On the send side, the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>OperationContext<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.operationcontext.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> can be used to include additional message headers in the SOAP envelope or add message properties to the outgoing message.</target>
          </trans-unit>
        </group>
        <group id="119">
          <trans-unit id="193" translate="yes" xml:space="preserve">
            <source>On the receive side, the OperationContext can be used to retrieve message properties and security information from for the incoming message.</source>
            <target state="new">On the receive side, the OperationContext can be used to retrieve message properties and security information from for the incoming message.</target>
          </trans-unit>
        </group>
        <group id="120">
          <trans-unit id="194" translate="yes" xml:space="preserve">
            <source>As we have seen in the first of the article, when an application uses WCF and the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>NetMessagingBinding<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.netmessagingbinding.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> to send a message to a queue or a topic, the message is wrapped into a soap envelope and encoded.</source>
            <target state="new">As we have seen in the first of the article, when an application uses WCF and the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>NetMessagingBinding<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.netmessagingbinding.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> to send a message to a queue or a topic, the message is wrapped into a soap envelope and encoded.</target>
          </trans-unit>
          <trans-unit id="195" translate="yes" xml:space="preserve">
            <source>To set <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>BrokeredMessage<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/hh144061.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> specific properties, you need to create a <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>BrokeredMessageProperty<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.brokeredmessageproperty.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> object, set the properties on it and add it to the <bpt id="7">&lt;externalLink&gt;</bpt><bpt id="8">&lt;linkText&gt;</bpt>Properties<ept id="8">&lt;/linkText&gt;</ept><ph id="9">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.channels.message.properties.aspx&lt;/linkUri&gt;</ph><ept id="7">&lt;/externalLink&gt;</ept> collection of the WCF <bpt id="10">&lt;externalLink&gt;</bpt><bpt id="11">&lt;linkText&gt;</bpt>Message<ept id="11">&lt;/linkText&gt;</ept><ph id="12">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.channels.message.aspx&lt;/linkUri&gt;</ph><ept id="10">&lt;/externalLink&gt;</ept>.</source>
            <target state="new">To set <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>BrokeredMessage<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/hh144061.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> specific properties, you need to create a <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>BrokeredMessageProperty<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.brokeredmessageproperty.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> object, set the properties on it and add it to the <bpt id="7">&lt;externalLink&gt;</bpt><bpt id="8">&lt;linkText&gt;</bpt>Properties<ept id="8">&lt;/linkText&gt;</ept><ph id="9">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.channels.message.properties.aspx&lt;/linkUri&gt;</ph><ept id="7">&lt;/externalLink&gt;</ept> collection of the WCF <bpt id="10">&lt;externalLink&gt;</bpt><bpt id="11">&lt;linkText&gt;</bpt>Message<ept id="11">&lt;/linkText&gt;</ept><ph id="12">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.channels.message.aspx&lt;/linkUri&gt;</ph><ept id="10">&lt;/externalLink&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="196" translate="yes" xml:space="preserve">
            <source>Therefore, to retrieve the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>BrokeredMessageProperty<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.brokeredmessageproperty.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> from an inbound message or to add a BrokeredMessageProperty to the Properties collection of an outgoing WCF Message we need to extend the functionality provided out-of-the-box by <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>Messaging Activities<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/ee358739.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept>.</source>
            <target state="new">Therefore, to retrieve the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>BrokeredMessageProperty<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.brokeredmessageproperty.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> from an inbound message or to add a BrokeredMessageProperty to the Properties collection of an outgoing WCF Message we need to extend the functionality provided out-of-the-box by <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>Messaging Activities<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/ee358739.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="197" translate="yes" xml:space="preserve">
            <source>Fortunately, WF 4.0 enables to extend the runtime behavior of Messaging Activities using the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>IReceiveMessageCallback<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/en-us/library/system.servicemodel.activities.ireceivemessagecallback(VS.100).aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> and <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>ISendMessageCallback<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.isendmessagecallback(VS.100).aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept>.</source>
            <target state="new">Fortunately, WF 4.0 enables to extend the runtime behavior of Messaging Activities using the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>IReceiveMessageCallback<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/en-us/library/system.servicemodel.activities.ireceivemessagecallback(VS.100).aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> and <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>ISendMessageCallback<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.isendmessagecallback(VS.100).aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="198" translate="yes" xml:space="preserve">
            <source>In particular:</source>
            <target state="new">In particular:</target>
          </trans-unit>
        </group>
        <group id="121">
          <trans-unit id="199" translate="yes" xml:space="preserve">
            <source>The IReceiveMessageCallback interface implements a callback to be executed when a service message is received by the Receive activity.</source>
            <target state="new">The IReceiveMessageCallback interface implements a callback to be executed when a service message is received by the Receive activity.</target>
          </trans-unit>
        </group>
        <group id="122">
          <trans-unit id="200" translate="yes" xml:space="preserve">
            <source>The ISendMessageCallback.interface implements a callback that is called just before a message is sent on the wire by the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Send<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.send.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> activity.</source>
            <target state="new">The ISendMessageCallback.interface implements a callback that is called just before a message is sent on the wire by the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Send<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.send.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> activity.</target>
          </trans-unit>
        </group>
        <group id="123">
          <trans-unit id="201" translate="yes" xml:space="preserve">
            <source>In my demo, I exploited these extensibility points to create a custom <bpt id="1">&lt;ui&gt;</bpt>NativeActivity<ept id="1">&lt;/ui&gt;</ept> called <bpt id="2">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="2">&lt;/ui&gt;</ept> that allows to:</source>
            <target state="new">In my demo, I exploited these extensibility points to create a custom <bpt id="1">&lt;ui&gt;</bpt>NativeActivity<ept id="1">&lt;/ui&gt;</ept> called <bpt id="2">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="2">&lt;/ui&gt;</ept> that allows to:</target>
          </trans-unit>
        </group>
        <group id="124">
          <trans-unit id="202" translate="yes" xml:space="preserve">
            <source>Get the <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="1">&lt;/ui&gt;</ept> from the properties of an inbound WCF message.</source>
            <target state="new">Get the <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="1">&lt;/ui&gt;</ept> from the properties of an inbound WCF message.</target>
          </trans-unit>
        </group>
        <group id="125">
          <trans-unit id="203" translate="yes" xml:space="preserve">
            <source>Set the <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="1">&lt;/ui&gt;</ept> for an outbound WCF message.</source>
            <target state="new">Set the <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="1">&lt;/ui&gt;</ept> for an outbound WCF message.</target>
          </trans-unit>
        </group>
        <group id="126">
          <trans-unit id="204" translate="yes" xml:space="preserve">
            <source>Roman Kiss in his <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>article<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://www.codeproject.com/KB/azure/UsingAzureServiceBus.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> followed the same approach and created a more sophisticated activity that exposes a property for each property exposed by the <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>BrokeredMessageProperty<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.brokeredmessageproperty.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> class.</source>
            <target state="new">Roman Kiss in his <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>article<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://www.codeproject.com/KB/azure/UsingAzureServiceBus.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> followed the same approach and created a more sophisticated activity that exposes a property for each property exposed by the <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>BrokeredMessageProperty<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.brokeredmessageproperty.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> class.</target>
          </trans-unit>
          <trans-unit id="205" translate="yes" xml:space="preserve">
            <source>I strongly suggest you to look at his article as it basically explains an alternative way to implement the same technique that I describe in the present article.</source>
            <target state="new">I strongly suggest you to look at his article as it basically explains an alternative way to implement the same technique that I describe in the present article.</target>
          </trans-unit>
        </group>
        <group id="127">
          <trans-unit id="206" translate="yes" xml:space="preserve">
            <source>For your convenience, I included the code of the <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="1">&lt;/ui&gt;</ept> in the table below:</source>
            <target state="new">For your convenience, I included the code of the <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="1">&lt;/ui&gt;</ept> in the table below:</target>
          </trans-unit>
        </group>
        <group id="128">
          <trans-unit id="207" translate="yes" xml:space="preserve">
            <source>BrokeredMessagePropertyActivity Class</source>
            <target state="new">BrokeredMessagePropertyActivity Class</target>
          </trans-unit>
        </group>
        <group id="129">
          <trans-unit id="208" translate="yes" xml:space="preserve">
            <source>BrokeredMessagePropertyCallback Class</source>
            <target state="new">BrokeredMessagePropertyCallback Class</target>
          </trans-unit>
        </group>
        <group id="130">
          <trans-unit id="209" translate="yes" xml:space="preserve">
            <source>The <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="1">&lt;/ui&gt;</ept> can be used to wrap <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>Receive<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.workflow.activities.receiveactivity.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> or <bpt id="5">&lt;externalLink&gt;</bpt><bpt id="6">&lt;linkText&gt;</bpt>Send<ept id="6">&lt;/linkText&gt;</ept><ph id="7">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.workflow.activities.sendactivity.aspx&lt;/linkUri&gt;</ph><ept id="5">&lt;/externalLink&gt;</ept> activities.</source>
            <target state="new">The <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="1">&lt;/ui&gt;</ept> can be used to wrap <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>Receive<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.workflow.activities.receiveactivity.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> or <bpt id="5">&lt;externalLink&gt;</bpt><bpt id="6">&lt;linkText&gt;</bpt>Send<ept id="6">&lt;/linkText&gt;</ept><ph id="7">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.workflow.activities.sendactivity.aspx&lt;/linkUri&gt;</ph><ept id="5">&lt;/externalLink&gt;</ept> activities.</target>
          </trans-unit>
          <trans-unit id="210" translate="yes" xml:space="preserve">
            <source>This automatically provides access to the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>BrokeredMessageProperty<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.brokeredmessageproperty.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> that can be used to read and write explicit and user-defined properties of a <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>BrokeredMessage<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/hh144061.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept>.</source>
            <target state="new">This automatically provides access to the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>BrokeredMessageProperty<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.brokeredmessageproperty.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> that can be used to read and write explicit and user-defined properties of a <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>BrokeredMessage<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/hh144061.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="131">
          <trans-unit id="211" translate="yes" xml:space="preserve">
            <source>Calculator Activity</source>
            <target state="new">Calculator Activity</target>
          </trans-unit>
        </group>
        <group id="132">
          <trans-unit id="212" translate="yes" xml:space="preserve">
            <source>To elaborate the incoming request and generate a response, I created a custom code activity called <bpt id="1">&lt;ui&gt;</bpt>CalculatorActivity<ept id="1">&lt;/ui&gt;</ept> whose code is shown in the following table.</source>
            <target state="new">To elaborate the incoming request and generate a response, I created a custom code activity called <bpt id="1">&lt;ui&gt;</bpt>CalculatorActivity<ept id="1">&lt;/ui&gt;</ept> whose code is shown in the following table.</target>
          </trans-unit>
        </group>
        <group id="133">
          <trans-unit id="213" translate="yes" xml:space="preserve">
            <source>CalculatorActivity Class</source>
            <target state="new">CalculatorActivity Class</target>
          </trans-unit>
        </group>
        <group id="134">
          <trans-unit id="214" translate="yes" xml:space="preserve">
            <source>This activity exposes two input arguments and two output arguments respectively:</source>
            <target state="new">This activity exposes two input arguments and two output arguments respectively:</target>
          </trans-unit>
        </group>
        <group id="135">
          <trans-unit id="215" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;ui&gt;</bpt>CalculatorRequest<ept id="1">&lt;/ui&gt;</ept>: this <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>InArgument<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.activities.inargument.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> of type <bpt id="5">&lt;ui&gt;</bpt>CalculatorRequest<ept id="5">&lt;/ui&gt;</ept> allows the workflow to pass the request to the activity.</source>
            <target state="new"><bpt id="1">&lt;ui&gt;</bpt>CalculatorRequest<ept id="1">&lt;/ui&gt;</ept>: this <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>InArgument<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.activities.inargument.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> of type <bpt id="5">&lt;ui&gt;</bpt>CalculatorRequest<ept id="5">&lt;/ui&gt;</ept> allows the workflow to pass the request to the activity.</target>
          </trans-unit>
        </group>
        <group id="136">
          <trans-unit id="216" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;ui&gt;</bpt>InboundBrokeredMessageProperty<ept id="1">&lt;/ui&gt;</ept>: this <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>InArgument<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.activities.inargument.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> of type <bpt id="5">&lt;externalLink&gt;</bpt><bpt id="6">&lt;linkText&gt;</bpt>BrokeredMessageProperty<ept id="6">&lt;/linkText&gt;</ept><ph id="7">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.brokeredmessageproperty.aspx&lt;/linkUri&gt;</ph><ept id="5">&lt;/externalLink&gt;</ept> allows to pass as an input parameter the BrokeredMessageProperty extracted from the WCF request message.</source>
            <target state="new"><bpt id="1">&lt;ui&gt;</bpt>InboundBrokeredMessageProperty<ept id="1">&lt;/ui&gt;</ept>: this <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>InArgument<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.activities.inargument.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> of type <bpt id="5">&lt;externalLink&gt;</bpt><bpt id="6">&lt;linkText&gt;</bpt>BrokeredMessageProperty<ept id="6">&lt;/linkText&gt;</ept><ph id="7">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.brokeredmessageproperty.aspx&lt;/linkUri&gt;</ph><ept id="5">&lt;/externalLink&gt;</ept> allows to pass as an input parameter the BrokeredMessageProperty extracted from the WCF request message.</target>
          </trans-unit>
        </group>
        <group id="137">
          <trans-unit id="217" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;ui&gt;</bpt>CalculatorResponse<ept id="1">&lt;/ui&gt;</ept>: this <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>OutArgument<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.activities.outargument.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> of type CalculatorResponse is used by the code activity to return the response as an output parameter to the workflow.</source>
            <target state="new"><bpt id="1">&lt;ui&gt;</bpt>CalculatorResponse<ept id="1">&lt;/ui&gt;</ept>: this <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>OutArgument<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.activities.outargument.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> of type CalculatorResponse is used by the code activity to return the response as an output parameter to the workflow.</target>
          </trans-unit>
        </group>
        <group id="138">
          <trans-unit id="218" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;ui&gt;</bpt>OutboundBrokeredMessageProperty<ept id="1">&lt;/ui&gt;</ept>: this OutArgument is used by the code activity to return the outbound BrokeredMessageProperty to the workflow that will use an instance of the <bpt id="2">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="2">&lt;/ui&gt;</ept> to assign the value of this output parameter to the BrokeredMessageProperty of the WCF response message.</source>
            <target state="new"><bpt id="1">&lt;ui&gt;</bpt>OutboundBrokeredMessageProperty<ept id="1">&lt;/ui&gt;</ept>: this OutArgument is used by the code activity to return the outbound BrokeredMessageProperty to the workflow that will use an instance of the <bpt id="2">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="2">&lt;/ui&gt;</ept> to assign the value of this output parameter to the BrokeredMessageProperty of the WCF response message.</target>
          </trans-unit>
        </group>
        <group id="139">
          <trans-unit id="219" translate="yes" xml:space="preserve">
            <source>In a nutshell, the <bpt id="1">&lt;ui&gt;</bpt>CalculatorActivity<ept id="1">&lt;/ui&gt;</ept> receives the inbound message and <bpt id="2">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="2">&lt;/ui&gt;</ept> as input arguments, processes the request message and generates a response message and an outbound BrokeredMessageProperty.</source>
            <target state="new">In a nutshell, the <bpt id="1">&lt;ui&gt;</bpt>CalculatorActivity<ept id="1">&lt;/ui&gt;</ept> receives the inbound message and <bpt id="2">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="2">&lt;/ui&gt;</ept> as input arguments, processes the request message and generates a response message and an outbound BrokeredMessageProperty.</target>
          </trans-unit>
          <trans-unit id="220" translate="yes" xml:space="preserve">
            <source>When running in a console application, the activity traces the properties of the inbound and outbound BrokeredMessageProperty in the standard output.</source>
            <target state="new">When running in a console application, the activity traces the properties of the inbound and outbound BrokeredMessageProperty in the standard output.</target>
          </trans-unit>
        </group>
        <group id="140">
          <trans-unit id="221" translate="yes" xml:space="preserve">
            <source>WCF Workflow Service</source>
            <target state="new">WCF Workflow Service</target>
          </trans-unit>
        </group>
        <group id="141">
          <trans-unit id="222" translate="yes" xml:space="preserve">
            <source>In this section I will focus my attention on how the WCF workflow service implements communications with the client application using <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> queues and topics.</source>
            <target state="new">In this section I will focus my attention on how the WCF workflow service implements communications with the client application using <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> queues and topics.</target>
          </trans-unit>
          <trans-unit id="223" translate="yes" xml:space="preserve">
            <source>In my demo, the WCF workflow service is hosted in a console application, but you can easily change the solution to run the WCF workflow service in IIS-hosted application on-premises or in an Azure role in the cloud.</source>
            <target state="new">In my demo, the WCF workflow service is hosted in a console application, but you can easily change the solution to run the WCF workflow service in IIS-hosted application on-premises or in an Azure role in the cloud.</target>
          </trans-unit>
          <trans-unit id="224" translate="yes" xml:space="preserve">
            <source>The following table contains the code used by the console application to initialize and open a <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>WorkflowServiceHost<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.workflowservicehost.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> object.</source>
            <target state="new">The following table contains the code used by the console application to initialize and open a <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>WorkflowServiceHost<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.workflowservicehost.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> object.</target>
          </trans-unit>
          <trans-unit id="225" translate="yes" xml:space="preserve">
            <source>In particular, the local http endpoint specified in the object constructor can be used to retrieve the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>WSDL<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://www.w3.org/TR/wsdl&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> exposed by the WCF workflow service.</source>
            <target state="new">In particular, the local http endpoint specified in the object constructor can be used to retrieve the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>WSDL<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://www.w3.org/TR/wsdl&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> exposed by the WCF workflow service.</target>
          </trans-unit>
        </group>
        <group id="142">
          <trans-unit id="226" translate="yes" xml:space="preserve">
            <source>Program Class</source>
            <target state="new">Program Class</target>
          </trans-unit>
        </group>
        <group id="143">
          <trans-unit id="227" translate="yes" xml:space="preserve">
            <source>The following table contains the configuration file of the console application that plays a key role in the definition of the WCF client and service endpoints used by the WCF workflow service to exchange request and response messages with the client application via <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> queues and topics.</source>
            <target state="new">The following table contains the configuration file of the console application that plays a key role in the definition of the WCF client and service endpoints used by the WCF workflow service to exchange request and response messages with the client application via <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> queues and topics.</target>
          </trans-unit>
        </group>
        <group id="144">
          <trans-unit id="228" translate="yes" xml:space="preserve">
            <source>Console Application App.Config</source>
            <target state="new">Console Application App.Config</target>
          </trans-unit>
        </group>
        <group id="145">
          <trans-unit id="229" translate="yes" xml:space="preserve">
            <source>Below you can find a brief description of the main elements and sections of the configuration file.</source>
            <target state="new">Below you can find a brief description of the main elements and sections of the configuration file.</target>
          </trans-unit>
          <trans-unit id="230" translate="yes" xml:space="preserve">
            <source>Note that the definition of client and service endpoints is dual with respect to the configuration of client and service endpoints used by the client application.</source>
            <target state="new">Note that the definition of client and service endpoints is dual with respect to the configuration of client and service endpoints used by the client application.</target>
          </trans-unit>
        </group>
        <group id="146">
          <trans-unit id="231" translate="yes" xml:space="preserve">
            <source>Lines <bpt id="1">&lt;ui&gt;</bpt>[3-33]<ept id="1">&lt;/ui&gt;</ept> enable tracing, configure trace sources to emit traces and set trace level.</source>
            <target state="new">Lines <bpt id="1">&lt;ui&gt;</bpt>[3-33]<ept id="1">&lt;/ui&gt;</ept> enable tracing, configure trace sources to emit traces and set trace level.</target>
          </trans-unit>
          <trans-unit id="232" translate="yes" xml:space="preserve">
            <source>In particular, the diagnostics section is configured to trace messages at a service and transport level to a log file that can be examined using the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Service Trace Viewer Tool (SvcTraceViewer.exe)<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/ms732023.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept></source>
            <target state="new">In particular, the diagnostics section is configured to trace messages at a service and transport level to a log file that can be examined using the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Service Trace Viewer Tool (SvcTraceViewer.exe)<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/ms732023.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept></target>
          </trans-unit>
        </group>
        <group id="147">
          <trans-unit id="233" translate="yes" xml:space="preserve">
            <source>Lines <bpt id="1">&lt;ui&gt;</bpt>[36-43]<ept id="1">&lt;/ui&gt;</ept> specify the default service behavior used by the WCF workflow service.</source>
            <target state="new">Lines <bpt id="1">&lt;ui&gt;</bpt>[36-43]<ept id="1">&lt;/ui&gt;</ept> specify the default service behavior used by the WCF workflow service.</target>
          </trans-unit>
        </group>
        <group id="148">
          <trans-unit id="234" translate="yes" xml:space="preserve">
            <source>Lines <bpt id="1">&lt;ui&gt;</bpt>[44-53]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>securityBehavior<ept id="2">&lt;/ui&gt;</ept> used by client and service endpoint to authenticate with the Access Control Service.</source>
            <target state="new">Lines <bpt id="1">&lt;ui&gt;</bpt>[44-53]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>securityBehavior<ept id="2">&lt;/ui&gt;</ept> used by client and service endpoint to authenticate with the Access Control Service.</target>
          </trans-unit>
          <trans-unit id="235" translate="yes" xml:space="preserve">
            <source>In particular, the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>TransportClientEndpointBehavior<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.transportclientendpointbehavior.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> is used to define shared secret credentials.</source>
            <target state="new">In particular, the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>TransportClientEndpointBehavior<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.transportclientendpointbehavior.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> is used to define shared secret credentials.</target>
          </trans-unit>
        </group>
        <group id="149">
          <trans-unit id="236" translate="yes" xml:space="preserve">
            <source>Lines <bpt id="1">&lt;ui&gt;</bpt>[56-66]<ept id="1">&lt;/ui&gt;</ept> contain the configuration of the <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>NetMessagingBinding<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.netmessagingbinding.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> used by client and service endpoints to exchange messages with <ph id="5">&lt;token&gt;sb2&lt;/token&gt;</ph>.</source>
            <target state="new">Lines <bpt id="1">&lt;ui&gt;</bpt>[56-66]<ept id="1">&lt;/ui&gt;</ept> contain the configuration of the <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>NetMessagingBinding<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.netmessagingbinding.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> used by client and service endpoints to exchange messages with <ph id="5">&lt;token&gt;sb2&lt;/token&gt;</ph>.</target>
          </trans-unit>
        </group>
        <group id="150">
          <trans-unit id="237" translate="yes" xml:space="preserve">
            <source>Lines <bpt id="1">&lt;ui&gt;</bpt>[69-74]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>ResponseQueueClientEndpoint<ept id="2">&lt;/ui&gt;</ept> used by the WCF workflow service to send response messages to the <bpt id="3">&lt;ui&gt;</bpt>responsequeue<ept id="3">&lt;/ui&gt;</ept>.</source>
            <target state="new">Lines <bpt id="1">&lt;ui&gt;</bpt>[69-74]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>ResponseQueueClientEndpoint<ept id="2">&lt;/ui&gt;</ept> used by the WCF workflow service to send response messages to the <bpt id="3">&lt;ui&gt;</bpt>responsequeue<ept id="3">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="238" translate="yes" xml:space="preserve">
            <source>The <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept> of the client endpoint is given by the concatenation of the URL of the service namespace and the name of the queue.</source>
            <target state="new">The <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept> of the client endpoint is given by the concatenation of the URL of the service namespace and the name of the queue.</target>
          </trans-unit>
        </group>
        <group id="151">
          <trans-unit id="239" translate="yes" xml:space="preserve">
            <source>Lines <bpt id="1">&lt;ui&gt;</bpt>[78-83]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>ResponseTopicClientEndpoint<ept id="2">&lt;/ui&gt;</ept> used by the WCF workflow service to send response messages to the <bpt id="3">&lt;ui&gt;</bpt>responsetopic<ept id="3">&lt;/ui&gt;</ept>.</source>
            <target state="new">Lines <bpt id="1">&lt;ui&gt;</bpt>[78-83]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>ResponseTopicClientEndpoint<ept id="2">&lt;/ui&gt;</ept> used by the WCF workflow service to send response messages to the <bpt id="3">&lt;ui&gt;</bpt>responsetopic<ept id="3">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="240" translate="yes" xml:space="preserve">
            <source>The <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept> of the client endpoint is given by the concatenation of the URL of the service namespace and the name of the topic.</source>
            <target state="new">The <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept> of the client endpoint is given by the concatenation of the URL of the service namespace and the name of the topic.</target>
          </trans-unit>
        </group>
        <group id="152">
          <trans-unit id="241" translate="yes" xml:space="preserve">
            <source>Lines <bpt id="1">&lt;ui&gt;</bpt>[83-89]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>RequestQueueServiceEndpoint<ept id="2">&lt;/ui&gt;</ept> used by the WCF workflow service to receive request messages from the <bpt id="3">&lt;ui&gt;</bpt>requestqueue<ept id="3">&lt;/ui&gt;</ept>.</source>
            <target state="new">Lines <bpt id="1">&lt;ui&gt;</bpt>[83-89]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>RequestQueueServiceEndpoint<ept id="2">&lt;/ui&gt;</ept> used by the WCF workflow service to receive request messages from the <bpt id="3">&lt;ui&gt;</bpt>requestqueue<ept id="3">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="242" translate="yes" xml:space="preserve">
            <source>The <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept> of the service endpoint is given by the concatenation of the URL of the service namespace and the name of the queue.</source>
            <target state="new">The <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept> of the service endpoint is given by the concatenation of the URL of the service namespace and the name of the queue.</target>
          </trans-unit>
        </group>
        <group id="153">
          <trans-unit id="243" translate="yes" xml:space="preserve">
            <source>Lines <bpt id="1">&lt;ui&gt;</bpt>[90-96]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>RequestTopicServiceEndpoint<ept id="2">&lt;/ui&gt;</ept> used by the application to receive request messages from the <bpt id="3">&lt;ui&gt;</bpt>ItalyMilan<ept id="3">&lt;/ui&gt;</ept> subscription for the <bpt id="4">&lt;ui&gt;</bpt>requesttopic<ept id="4">&lt;/ui&gt;</ept>.</source>
            <target state="new">Lines <bpt id="1">&lt;ui&gt;</bpt>[90-96]<ept id="1">&lt;/ui&gt;</ept> contain the definition of the <bpt id="2">&lt;ui&gt;</bpt>RequestTopicServiceEndpoint<ept id="2">&lt;/ui&gt;</ept> used by the application to receive request messages from the <bpt id="3">&lt;ui&gt;</bpt>ItalyMilan<ept id="3">&lt;/ui&gt;</ept> subscription for the <bpt id="4">&lt;ui&gt;</bpt>requesttopic<ept id="4">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="244" translate="yes" xml:space="preserve">
            <source>When you define a WCF service endpoint that uses the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>NetMessagingBinding<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.netmessagingbinding.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> to receive messages from a subscription, you have to proceed as follows:</source>
            <target state="new">When you define a WCF service endpoint that uses the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>NetMessagingBinding<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.netmessagingbinding.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> to receive messages from a subscription, you have to proceed as follows:</target>
          </trans-unit>
        </group>
        <group id="154">
          <trans-unit id="245" translate="yes" xml:space="preserve">
            <source>As value of the <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept> attribute, you have specify the URL of the topic which the subscription belongs to.</source>
            <target state="new">As value of the <bpt id="1">&lt;ui&gt;</bpt>address<ept id="1">&lt;/ui&gt;</ept> attribute, you have specify the URL of the topic which the subscription belongs to.</target>
          </trans-unit>
          <trans-unit id="246" translate="yes" xml:space="preserve">
            <source>The URL of the topic is given by the concatenation of the URL of the service namespace and the name of the topic.</source>
            <target state="new">The URL of the topic is given by the concatenation of the URL of the service namespace and the name of the topic.</target>
          </trans-unit>
        </group>
        <group id="155">
          <trans-unit id="247" translate="yes" xml:space="preserve">
            <source>As value of the <bpt id="1">&lt;ui&gt;</bpt>listenUri<ept id="1">&lt;/ui&gt;</ept> attribute, you have to specify the URL of the subscription.</source>
            <target state="new">As value of the <bpt id="1">&lt;ui&gt;</bpt>listenUri<ept id="1">&lt;/ui&gt;</ept> attribute, you have to specify the URL of the subscription.</target>
          </trans-unit>
          <trans-unit id="248" translate="yes" xml:space="preserve">
            <source>The URL of the subscription is defined by the concatenation of the topic URL, the string /<bpt id="1">&lt;ui&gt;</bpt>Subscriptions<ept id="1">&lt;/ui&gt;</ept>/ and the name of the subscription.</source>
            <target state="new">The URL of the subscription is defined by the concatenation of the topic URL, the string /<bpt id="1">&lt;ui&gt;</bpt>Subscriptions<ept id="1">&lt;/ui&gt;</ept>/ and the name of the subscription.</target>
          </trans-unit>
        </group>
        <group id="156">
          <trans-unit id="249" translate="yes" xml:space="preserve">
            <source>Assign the value <bpt id="1">&lt;ui&gt;</bpt>Explicit<ept id="1">&lt;/ui&gt;</ept> to the <bpt id="2">&lt;ui&gt;</bpt>listenUriMode<ept id="2">&lt;/ui&gt;</ept> attribute.</source>
            <target state="new">Assign the value <bpt id="1">&lt;ui&gt;</bpt>Explicit<ept id="1">&lt;/ui&gt;</ept> to the <bpt id="2">&lt;ui&gt;</bpt>listenUriMode<ept id="2">&lt;/ui&gt;</ept> attribute.</target>
          </trans-unit>
          <trans-unit id="250" translate="yes" xml:space="preserve">
            <source>The default value for the <bpt id="1">&lt;ui&gt;</bpt>listenUriMode<ept id="1">&lt;/ui&gt;</ept> is <bpt id="2">&lt;ui&gt;</bpt>Explicit<ept id="2">&lt;/ui&gt;</ept>, so this setting is optional.</source>
            <target state="new">The default value for the <bpt id="1">&lt;ui&gt;</bpt>listenUriMode<ept id="1">&lt;/ui&gt;</ept> is <bpt id="2">&lt;ui&gt;</bpt>Explicit<ept id="2">&lt;/ui&gt;</ept>, so this setting is optional.</target>
          </trans-unit>
        </group>
        <group id="157">
          <trans-unit id="251" translate="yes" xml:space="preserve">
            <source>Lines <bpt id="1">&lt;ui&gt;</bpt>[100-102]<ept id="1">&lt;/ui&gt;</ept> specify which version of the common language runtime is supported by the application.</source>
            <target state="new">Lines <bpt id="1">&lt;ui&gt;</bpt>[100-102]<ept id="1">&lt;/ui&gt;</ept> specify which version of the common language runtime is supported by the application.</target>
          </trans-unit>
        </group>
        <group id="158">
          <trans-unit id="252" translate="yes" xml:space="preserve">
            <source>Now let’s examine the steps necessary to create a WCF workflow service that receives a request and sends a reply via <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> queues and topics.</source>
            <target state="new">Now let’s examine the steps necessary to create a WCF workflow service that receives a request and sends a reply via <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> queues and topics.</target>
          </trans-unit>
          <trans-unit id="253" translate="yes" xml:space="preserve">
            <source>When I first created the WCF Workflow Service, the workflow just contained a <bpt id="1">&lt;ui&gt;</bpt>Sequence<ept id="1">&lt;/ui&gt;</ept> activity with a <bpt id="2">&lt;ui&gt;</bpt>Receive<ept id="2">&lt;/ui&gt;</ept> activity followed by a <bpt id="3">&lt;ui&gt;</bpt>SendReply<ept id="3">&lt;/ui&gt;</ept> activity as shown in the following illustration.</source>
            <target state="new">When I first created the WCF Workflow Service, the workflow just contained a <bpt id="1">&lt;ui&gt;</bpt>Sequence<ept id="1">&lt;/ui&gt;</ept> activity with a <bpt id="2">&lt;ui&gt;</bpt>Receive<ept id="2">&lt;/ui&gt;</ept> activity followed by a <bpt id="3">&lt;ui&gt;</bpt>SendReply<ept id="3">&lt;/ui&gt;</ept> activity as shown in the following illustration.</target>
          </trans-unit>
        </group>
        <group id="159">
          <trans-unit id="254" translate="yes" xml:space="preserve">
            <source>As a first step, I clicked the surface of the workflow and I assigned the string <bpt id="1">&lt;ui&gt;</bpt>CalculatorService<ept id="1">&lt;/ui&gt;</ept> as a value to both the <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>ConfigurationName<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.workflowservice.configurationname(v=vs.110).aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> and <bpt id="5">&lt;externalLink&gt;</bpt><bpt id="6">&lt;linkText&gt;</bpt>Name<ept id="6">&lt;/linkText&gt;</ept><ph id="7">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.workflowservice.name(v=vs.110).aspx&lt;/linkUri&gt;</ph><ept id="5">&lt;/externalLink&gt;</ept> properties of the <bpt id="8">&lt;externalLink&gt;</bpt><bpt id="9">&lt;linkText&gt;</bpt>WorkflowService<ept id="9">&lt;/linkText&gt;</ept><ph id="10">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.workflowservice(v=vs.110).aspx&lt;/linkUri&gt;</ph><ept id="8">&lt;/externalLink&gt;</ept>, as shown in the picture below.</source>
            <target state="new">As a first step, I clicked the surface of the workflow and I assigned the string <bpt id="1">&lt;ui&gt;</bpt>CalculatorService<ept id="1">&lt;/ui&gt;</ept> as a value to both the <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>ConfigurationName<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.workflowservice.configurationname(v=vs.110).aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> and <bpt id="5">&lt;externalLink&gt;</bpt><bpt id="6">&lt;linkText&gt;</bpt>Name<ept id="6">&lt;/linkText&gt;</ept><ph id="7">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.workflowservice.name(v=vs.110).aspx&lt;/linkUri&gt;</ph><ept id="5">&lt;/externalLink&gt;</ept> properties of the <bpt id="8">&lt;externalLink&gt;</bpt><bpt id="9">&lt;linkText&gt;</bpt>WorkflowService<ept id="9">&lt;/linkText&gt;</ept><ph id="10">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.workflowservice(v=vs.110).aspx&lt;/linkUri&gt;</ph><ept id="8">&lt;/externalLink&gt;</ept>, as shown in the picture below.</target>
          </trans-unit>
          <trans-unit id="255" translate="yes" xml:space="preserve">
            <source>In particular, the ConfigurationName property indicates the configuration name of the workflow service and its value needs to be equal to the value of the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>name<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/ms731303.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> attribute of the <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>service<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/ms731303.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> element in the configuration file.</source>
            <target state="new">In particular, the ConfigurationName property indicates the configuration name of the workflow service and its value needs to be equal to the value of the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>name<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/ms731303.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> attribute of the <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>service<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/ms731303.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> element in the configuration file.</target>
          </trans-unit>
        </group>
        <group id="160">
          <trans-unit id="256" translate="yes" xml:space="preserve">
            <source>Then I selected the <bpt id="1">&lt;ui&gt;</bpt>Sequential<ept id="1">&lt;/ui&gt;</ept> activity, I clicked the <bpt id="2">&lt;ui&gt;</bpt>Variables<ept id="2">&lt;/ui&gt;</ept> button to display the corresponding editor and I created the following variables:</source>
            <target state="new">Then I selected the <bpt id="1">&lt;ui&gt;</bpt>Sequential<ept id="1">&lt;/ui&gt;</ept> activity, I clicked the <bpt id="2">&lt;ui&gt;</bpt>Variables<ept id="2">&lt;/ui&gt;</ept> button to display the corresponding editor and I created the following variables:</target>
          </trans-unit>
        </group>
        <group id="161">
          <trans-unit id="257" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;ui&gt;</bpt>calculatorRequest<ept id="1">&lt;/ui&gt;</ept>: this variable is of type <bpt id="2">&lt;ui&gt;</bpt>CalculatorRequest<ept id="2">&lt;/ui&gt;</ept> and, as the name suggest, contains the body of the request message.</source>
            <target state="new"><bpt id="1">&lt;ui&gt;</bpt>calculatorRequest<ept id="1">&lt;/ui&gt;</ept>: this variable is of type <bpt id="2">&lt;ui&gt;</bpt>CalculatorRequest<ept id="2">&lt;/ui&gt;</ept> and, as the name suggest, contains the body of the request message.</target>
          </trans-unit>
          <trans-unit id="258" translate="yes" xml:space="preserve">
            <source>Its value is set by the <bpt id="1">&lt;ui&gt;</bpt>Receive<ept id="1">&lt;/ui&gt;</ept> activity used to receive the request message from the <bpt id="2">&lt;ui&gt;</bpt>requestqueue<ept id="2">&lt;/ui&gt;</ept> or the <bpt id="3">&lt;ui&gt;</bpt>ItalyMilan<ept id="3">&lt;/ui&gt;</ept> subscription of the <bpt id="4">&lt;ui&gt;</bpt>requesttopic<ept id="4">&lt;/ui&gt;</ept>.</source>
            <target state="new">Its value is set by the <bpt id="1">&lt;ui&gt;</bpt>Receive<ept id="1">&lt;/ui&gt;</ept> activity used to receive the request message from the <bpt id="2">&lt;ui&gt;</bpt>requestqueue<ept id="2">&lt;/ui&gt;</ept> or the <bpt id="3">&lt;ui&gt;</bpt>ItalyMilan<ept id="3">&lt;/ui&gt;</ept> subscription of the <bpt id="4">&lt;ui&gt;</bpt>requesttopic<ept id="4">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="162">
          <trans-unit id="259" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;ui&gt;</bpt>calculatorResponse<ept id="1">&lt;/ui&gt;</ept>: this variable is of type CalculatorResponse and contains the body of the response message returned to the client application.</source>
            <target state="new"><bpt id="1">&lt;ui&gt;</bpt>calculatorResponse<ept id="1">&lt;/ui&gt;</ept>: this variable is of type CalculatorResponse and contains the body of the response message returned to the client application.</target>
          </trans-unit>
          <trans-unit id="260" translate="yes" xml:space="preserve">
            <source>Its value is set by a custom activity that processes the request and produces a response.</source>
            <target state="new">Its value is set by a custom activity that processes the request and produces a response.</target>
          </trans-unit>
        </group>
        <group id="163">
          <trans-unit id="261" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;ui&gt;</bpt>inboundBrokeredMessageProperty<ept id="1">&lt;/ui&gt;</ept>: this variable contains the <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>BrokeredMessageProperty<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.brokeredmessageproperty.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> of the request message.</source>
            <target state="new"><bpt id="1">&lt;ui&gt;</bpt>inboundBrokeredMessageProperty<ept id="1">&lt;/ui&gt;</ept>: this variable contains the <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>BrokeredMessageProperty<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.brokeredmessageproperty.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept> of the request message.</target>
          </trans-unit>
          <trans-unit id="262" translate="yes" xml:space="preserve">
            <source>Its value is set by an instance of the <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="1">&lt;/ui&gt;</ept> that wraps the <bpt id="2">&lt;ui&gt;</bpt>Receive<ept id="2">&lt;/ui&gt;</ept> activity e reads the BrokeredMessageProperty from the properties of the WCF request message.</source>
            <target state="new">Its value is set by an instance of the <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="1">&lt;/ui&gt;</ept> that wraps the <bpt id="2">&lt;ui&gt;</bpt>Receive<ept id="2">&lt;/ui&gt;</ept> activity e reads the BrokeredMessageProperty from the properties of the WCF request message.</target>
          </trans-unit>
        </group>
        <group id="164">
          <trans-unit id="263" translate="yes" xml:space="preserve">
            <source><bpt id="1">&lt;ui&gt;</bpt>outboundBrokeredMessageProperty<ept id="1">&lt;/ui&gt;</ept>: this variable contains the BrokeredMessageProperty of the response message.</source>
            <target state="new"><bpt id="1">&lt;ui&gt;</bpt>outboundBrokeredMessageProperty<ept id="1">&lt;/ui&gt;</ept>: this variable contains the BrokeredMessageProperty of the response message.</target>
          </trans-unit>
          <trans-unit id="264" translate="yes" xml:space="preserve">
            <source>Its value is set by the custom activity that processes the request and produces a response.</source>
            <target state="new">Its value is set by the custom activity that processes the request and produces a response.</target>
          </trans-unit>
          <trans-unit id="265" translate="yes" xml:space="preserve">
            <source>A <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="1">&lt;/ui&gt;</ept> is used to wrap the <bpt id="2">&lt;ui&gt;</bpt>Send<ept id="2">&lt;/ui&gt;</ept> activity and assign the value of this variable to the BrokeredMessageProperty of the WCF response message.</source>
            <target state="new">A <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="1">&lt;/ui&gt;</ept> is used to wrap the <bpt id="2">&lt;ui&gt;</bpt>Send<ept id="2">&lt;/ui&gt;</ept> activity and assign the value of this variable to the BrokeredMessageProperty of the WCF response message.</target>
          </trans-unit>
        </group>
        <group id="165">
          <trans-unit id="266" translate="yes" xml:space="preserve">
            <source>Then I added a <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>TryCatch<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.activities.statements.trycatch(v=VS.100).aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> activity to the workflow and I wrapped the <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>Receive<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.receive.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> activity with an instance of the <bpt id="7">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="7">&lt;/ui&gt;</ept> as shown in the following picture.</source>
            <target state="new">Then I added a <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>TryCatch<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.activities.statements.trycatch(v=VS.100).aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> activity to the workflow and I wrapped the <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>Receive<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.receive.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> activity with an instance of the <bpt id="7">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="7">&lt;/ui&gt;</ept> as shown in the following picture.</target>
          </trans-unit>
        </group>
        <group id="166">
          <trans-unit id="267" translate="yes" xml:space="preserve">
            <source>Next I clicked the <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="1">&lt;/ui&gt;</ept> and I assigned the <bpt id="2">&lt;ui&gt;</bpt>inboundBrokeredMessageProperty<ept id="2">&lt;/ui&gt;</ept> variable to its <bpt id="3">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="3">&lt;/ui&gt;</ept> property, as shown in the picture below.</source>
            <target state="new">Next I clicked the <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="1">&lt;/ui&gt;</ept> and I assigned the <bpt id="2">&lt;ui&gt;</bpt>inboundBrokeredMessageProperty<ept id="2">&lt;/ui&gt;</ept> variable to its <bpt id="3">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="3">&lt;/ui&gt;</ept> property, as shown in the picture below.</target>
          </trans-unit>
        </group>
        <group id="167">
          <trans-unit id="268" translate="yes" xml:space="preserve">
            <source>Then I selected the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Receive<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.receive.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> activity and I configured its properties to receive request messages from the <bpt id="4">&lt;ui&gt;</bpt>requestqueue<ept id="4">&lt;/ui&gt;</ept> and <bpt id="5">&lt;ui&gt;</bpt>ItalyMilan<ept id="5">&lt;/ui&gt;</ept> subscription of the <bpt id="6">&lt;ui&gt;</bpt>requesttopic<ept id="6">&lt;/ui&gt;</ept> using, respectively, the <bpt id="7">&lt;ui&gt;</bpt>RequestQueueServiceEndpoint<ept id="7">&lt;/ui&gt;</ept> and <bpt id="8">&lt;ui&gt;</bpt>RequestTopicServiceEndpoint<ept id="8">&lt;/ui&gt;</ept> service endpoints defined in the configuration file.</source>
            <target state="new">Then I selected the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Receive<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.receive.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> activity and I configured its properties to receive request messages from the <bpt id="4">&lt;ui&gt;</bpt>requestqueue<ept id="4">&lt;/ui&gt;</ept> and <bpt id="5">&lt;ui&gt;</bpt>ItalyMilan<ept id="5">&lt;/ui&gt;</ept> subscription of the <bpt id="6">&lt;ui&gt;</bpt>requesttopic<ept id="6">&lt;/ui&gt;</ept> using, respectively, the <bpt id="7">&lt;ui&gt;</bpt>RequestQueueServiceEndpoint<ept id="7">&lt;/ui&gt;</ept> and <bpt id="8">&lt;ui&gt;</bpt>RequestTopicServiceEndpoint<ept id="8">&lt;/ui&gt;</ept> service endpoints defined in the configuration file.</target>
          </trans-unit>
        </group>
        <group id="168">
          <trans-unit id="269" translate="yes" xml:space="preserve">
            <source>In particular, I used the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>ServiceContractName<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.receive.servicecontractname.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> property of the Receive activity to specify the target namespace and contract name for the service endpoint and I used the <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>Action<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.receive.action.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> property to specify the action header of the request message as specified in the <bpt id="7">&lt;ui&gt;</bpt>ICalculatorRequest<ept id="7">&lt;/ui&gt;</ept> service contract.</source>
            <target state="new">In particular, I used the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>ServiceContractName<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.receive.servicecontractname.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> property of the Receive activity to specify the target namespace and contract name for the service endpoint and I used the <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>Action<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.receive.action.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> property to specify the action header of the request message as specified in the <bpt id="7">&lt;ui&gt;</bpt>ICalculatorRequest<ept id="7">&lt;/ui&gt;</ept> service contract.</target>
          </trans-unit>
        </group>
        <group id="169">
          <trans-unit id="270" translate="yes" xml:space="preserve">
            <source>Then I added an instance of the <bpt id="1">&lt;ui&gt;</bpt>CalculatorActivity<ept id="1">&lt;/ui&gt;</ept> to the WCF workflow service below the <bpt id="2">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="2">&lt;/ui&gt;</ept> and I configured its properties as shown in the following picture.</source>
            <target state="new">Then I added an instance of the <bpt id="1">&lt;ui&gt;</bpt>CalculatorActivity<ept id="1">&lt;/ui&gt;</ept> to the WCF workflow service below the <bpt id="2">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="2">&lt;/ui&gt;</ept> and I configured its properties as shown in the following picture.</target>
          </trans-unit>
        </group>
        <group id="170">
          <trans-unit id="271" translate="yes" xml:space="preserve">
            <source>Next, I added an <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>If<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.activities.statements.if.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> activity to the workflow below the <bpt id="4">&lt;ui&gt;</bpt>CalculatorActivity<ept id="4">&lt;/ui&gt;</ept> and I configured its <bpt id="5">&lt;externalLink&gt;</bpt><bpt id="6">&lt;linkText&gt;</bpt>Condition<ept id="6">&lt;/linkText&gt;</ept><ph id="7">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.activities.statements.if.condition.aspx&lt;/linkUri&gt;</ph><ept id="5">&lt;/externalLink&gt;</ept> property as follows:</source>
            <target state="new">Next, I added an <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>If<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.activities.statements.if.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> activity to the workflow below the <bpt id="4">&lt;ui&gt;</bpt>CalculatorActivity<ept id="4">&lt;/ui&gt;</ept> and I configured its <bpt id="5">&lt;externalLink&gt;</bpt><bpt id="6">&lt;linkText&gt;</bpt>Condition<ept id="6">&lt;/linkText&gt;</ept><ph id="7">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.activities.statements.if.condition.aspx&lt;/linkUri&gt;</ph><ept id="5">&lt;/externalLink&gt;</ept> property as follows:</target>
          </trans-unit>
        </group>
        <group id="171">
          <trans-unit id="272" translate="yes" xml:space="preserve">
            <source>Then I created an instance of the BrokeredMessagePropertyActivity in both branches of the If activity and I added a <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Send<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.send.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> activity to each of them, as shown in the following picture.</source>
            <target state="new">Then I created an instance of the BrokeredMessagePropertyActivity in both branches of the If activity and I added a <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Send<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.send.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> activity to each of them, as shown in the following picture.</target>
          </trans-unit>
        </group>
        <group id="172">
          <trans-unit id="273" translate="yes" xml:space="preserve">
            <source>This way, if the reply address specified in the <bpt id="1">&lt;ui&gt;</bpt>ReplyTo<ept id="1">&lt;/ui&gt;</ept> property of the inbound <bpt id="2">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="2">&lt;/ui&gt;</ept> contains the string “<bpt id="3">&lt;ui&gt;</bpt>topic<ept id="3">&lt;/ui&gt;</ept>”, the response is sent to the <bpt id="4">&lt;ui&gt;</bpt>responsetopic<ept id="4">&lt;/ui&gt;</ept>, and otherwise, the response is sent to the <bpt id="5">&lt;ui&gt;</bpt>responsequeue<ept id="5">&lt;/ui&gt;</ept>.</source>
            <target state="new">This way, if the reply address specified in the <bpt id="1">&lt;ui&gt;</bpt>ReplyTo<ept id="1">&lt;/ui&gt;</ept> property of the inbound <bpt id="2">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="2">&lt;/ui&gt;</ept> contains the string “<bpt id="3">&lt;ui&gt;</bpt>topic<ept id="3">&lt;/ui&gt;</ept>”, the response is sent to the <bpt id="4">&lt;ui&gt;</bpt>responsetopic<ept id="4">&lt;/ui&gt;</ept>, and otherwise, the response is sent to the <bpt id="5">&lt;ui&gt;</bpt>responsequeue<ept id="5">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="173">
          <trans-unit id="274" translate="yes" xml:space="preserve">
            <source>In both cases, an instance of the <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="1">&lt;/ui&gt;</ept> (identified by the <bpt id="2">&lt;ui&gt;</bpt>Set BrokeredMessage<ept id="2">&lt;/ui&gt;</ept> display name) is used to wrap the <bpt id="3">&lt;externalLink&gt;</bpt><bpt id="4">&lt;linkText&gt;</bpt>Send<ept id="4">&lt;/linkText&gt;</ept><ph id="5">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.send.aspx&lt;/linkUri&gt;</ph><ept id="3">&lt;/externalLink&gt;</ept> activity and assign the outbound <bpt id="6">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="6">&lt;/ui&gt;</ept> to the properties collection of the WCF response message.</source>
            <target state="new">In both cases, an instance of the <bpt id="1">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="1">&lt;/ui&gt;</ept> (identified by the <bpt id="2">&lt;ui&gt;</bpt>Set BrokeredMessage<ept id="2">&lt;/ui&gt;</ept> display name) is used to wrap the <bpt id="3">&lt;externalLink&gt;</bpt><bpt id="4">&lt;linkText&gt;</bpt>Send<ept id="4">&lt;/linkText&gt;</ept><ph id="5">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.send.aspx&lt;/linkUri&gt;</ph><ept id="3">&lt;/externalLink&gt;</ept> activity and assign the outbound <bpt id="6">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="6">&lt;/ui&gt;</ept> to the properties collection of the WCF response message.</target>
          </trans-unit>
          <trans-unit id="275" translate="yes" xml:space="preserve">
            <source>To perform this operation, I assigned the value of the <bpt id="1">&lt;ui&gt;</bpt>outboundBrokeredMessageProperty<ept id="1">&lt;/ui&gt;</ept> variable to the <bpt id="2">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="2">&lt;/ui&gt;</ept> property of both instances of the <bpt id="3">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="3">&lt;/ui&gt;</ept>, as shown in the picture below.</source>
            <target state="new">To perform this operation, I assigned the value of the <bpt id="1">&lt;ui&gt;</bpt>outboundBrokeredMessageProperty<ept id="1">&lt;/ui&gt;</ept> variable to the <bpt id="2">&lt;ui&gt;</bpt>BrokeredMessageProperty<ept id="2">&lt;/ui&gt;</ept> property of both instances of the <bpt id="3">&lt;ui&gt;</bpt>BrokeredMessagePropertyActivity<ept id="3">&lt;/ui&gt;</ept>, as shown in the picture below.</target>
          </trans-unit>
        </group>
        <group id="174">
          <trans-unit id="276" translate="yes" xml:space="preserve">
            <source>Then, I selected the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Send<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.send.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> activity in the <bpt id="4">&lt;ui&gt;</bpt>Then<ept id="4">&lt;/ui&gt;</ept> branch and I configured its property as follows to send the reply message to the <bpt id="5">&lt;ui&gt;</bpt>responsetopic<ept id="5">&lt;/ui&gt;</ept> using the <bpt id="6">&lt;ui&gt;</bpt>ResponseTopicClientEndpoint<ept id="6">&lt;/ui&gt;</ept> defined in the configuration file.</source>
            <target state="new">Then, I selected the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Send<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.send.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> activity in the <bpt id="4">&lt;ui&gt;</bpt>Then<ept id="4">&lt;/ui&gt;</ept> branch and I configured its property as follows to send the reply message to the <bpt id="5">&lt;ui&gt;</bpt>responsetopic<ept id="5">&lt;/ui&gt;</ept> using the <bpt id="6">&lt;ui&gt;</bpt>ResponseTopicClientEndpoint<ept id="6">&lt;/ui&gt;</ept> defined in the configuration file.</target>
          </trans-unit>
        </group>
        <group id="175">
          <trans-unit id="277" translate="yes" xml:space="preserve">
            <source>In particular, I used the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>ServiceContractName<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.receive.servicecontractname.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> property of the <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>Send<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.send.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> activity to specify the target namespace and contract name for the client endpoint, the <bpt id="7">&lt;externalLink&gt;</bpt><bpt id="8">&lt;linkText&gt;</bpt>Action<ept id="8">&lt;/linkText&gt;</ept><ph id="9">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.receive.action.aspx&lt;/linkUri&gt;</ph><ept id="7">&lt;/externalLink&gt;</ept> property to specify the action header of the response message as specified in the <bpt id="10">&lt;ui&gt;</bpt>ICalculatorResponse<ept id="10">&lt;/ui&gt;</ept> service contract, and the <bpt id="11">&lt;externalLink&gt;</bpt><bpt id="12">&lt;linkText&gt;</bpt>EndpointConfigurationName<ept id="12">&lt;/linkText&gt;</ept><ph id="13">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.send.endpointconfigurationname.aspx&lt;/linkUri&gt;</ph><ept id="11">&lt;/externalLink&gt;</ept> to indicate the name of the client endpoint defined in the configuration file.</source>
            <target state="new">In particular, I used the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>ServiceContractName<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.receive.servicecontractname.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> property of the <bpt id="4">&lt;externalLink&gt;</bpt><bpt id="5">&lt;linkText&gt;</bpt>Send<ept id="5">&lt;/linkText&gt;</ept><ph id="6">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.send.aspx&lt;/linkUri&gt;</ph><ept id="4">&lt;/externalLink&gt;</ept> activity to specify the target namespace and contract name for the client endpoint, the <bpt id="7">&lt;externalLink&gt;</bpt><bpt id="8">&lt;linkText&gt;</bpt>Action<ept id="8">&lt;/linkText&gt;</ept><ph id="9">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.receive.action.aspx&lt;/linkUri&gt;</ph><ept id="7">&lt;/externalLink&gt;</ept> property to specify the action header of the response message as specified in the <bpt id="10">&lt;ui&gt;</bpt>ICalculatorResponse<ept id="10">&lt;/ui&gt;</ept> service contract, and the <bpt id="11">&lt;externalLink&gt;</bpt><bpt id="12">&lt;linkText&gt;</bpt>EndpointConfigurationName<ept id="12">&lt;/linkText&gt;</ept><ph id="13">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.send.endpointconfigurationname.aspx&lt;/linkUri&gt;</ph><ept id="11">&lt;/externalLink&gt;</ept> to indicate the name of the client endpoint defined in the configuration file.</target>
          </trans-unit>
        </group>
        <group id="176">
          <trans-unit id="278" translate="yes" xml:space="preserve">
            <source>Likewise, I configured the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Send<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.send.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> activity in the <bpt id="4">&lt;ui&gt;</bpt>Else<ept id="4">&lt;/ui&gt;</ept> branch, as shown in the following figure.</source>
            <target state="new">Likewise, I configured the <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>Send<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://msdn.microsoft.com/library/system.servicemodel.activities.send.aspx&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept> activity in the <bpt id="4">&lt;ui&gt;</bpt>Else<ept id="4">&lt;/ui&gt;</ept> branch, as shown in the following figure.</target>
          </trans-unit>
        </group>
        <group id="177">
          <trans-unit id="279" translate="yes" xml:space="preserve">
            <source>The following picture shows the entire workflow:</source>
            <target state="new">The following picture shows the entire workflow:</target>
          </trans-unit>
        </group>
        <group id="178">
          <trans-unit id="280" translate="yes" xml:space="preserve">
            <source>Testing the Solution</source>
            <target state="new">Testing the Solution</target>
          </trans-unit>
        </group>
        <group id="179">
          <trans-unit id="281" translate="yes" xml:space="preserve">
            <source>Assuming that you have properly configured the solution, you can proceed as follows to test it.</source>
            <target state="new">Assuming that you have properly configured the solution, you can proceed as follows to test it.</target>
          </trans-unit>
        </group>
        <group id="180">
          <trans-unit id="282" translate="yes" xml:space="preserve">
            <source>To send a request message to the WCF workflow service via the <bpt id="1">&lt;ui&gt;</bpt>requestqueue<ept id="1">&lt;/ui&gt;</ept>, select the <bpt id="2">&lt;ui&gt;</bpt>Queue<ept id="2">&lt;/ui&gt;</ept> radio button in the <bpt id="3">&lt;ui&gt;</bpt>Request Methods<ept id="3">&lt;/ui&gt;</ept> group.</source>
            <target state="new">To send a request message to the WCF workflow service via the <bpt id="1">&lt;ui&gt;</bpt>requestqueue<ept id="1">&lt;/ui&gt;</ept>, select the <bpt id="2">&lt;ui&gt;</bpt>Queue<ept id="2">&lt;/ui&gt;</ept> radio button in the <bpt id="3">&lt;ui&gt;</bpt>Request Methods<ept id="3">&lt;/ui&gt;</ept> group.</target>
          </trans-unit>
        </group>
        <group id="181">
          <trans-unit id="283" translate="yes" xml:space="preserve">
            <source>To send a request message to the WCF workflow service via the <bpt id="1">&lt;ui&gt;</bpt>requesttopic<ept id="1">&lt;/ui&gt;</ept>, select the <bpt id="2">&lt;ui&gt;</bpt>Topic<ept id="2">&lt;/ui&gt;</ept> radio button in the <bpt id="3">&lt;ui&gt;</bpt>Request Methods<ept id="3">&lt;/ui&gt;</ept> group.</source>
            <target state="new">To send a request message to the WCF workflow service via the <bpt id="1">&lt;ui&gt;</bpt>requesttopic<ept id="1">&lt;/ui&gt;</ept>, select the <bpt id="2">&lt;ui&gt;</bpt>Topic<ept id="2">&lt;/ui&gt;</ept> radio button in the <bpt id="3">&lt;ui&gt;</bpt>Request Methods<ept id="3">&lt;/ui&gt;</ept> group.</target>
          </trans-unit>
        </group>
        <group id="182">
          <trans-unit id="284" translate="yes" xml:space="preserve">
            <source>To ask the WCF workflow service to send the response message to the <bpt id="1">&lt;ui&gt;</bpt>responsequeue<ept id="1">&lt;/ui&gt;</ept>, select the <bpt id="2">&lt;ui&gt;</bpt>Queue<ept id="2">&lt;/ui&gt;</ept> radio button in the <bpt id="3">&lt;ui&gt;</bpt>Response Methods<ept id="3">&lt;/ui&gt;</ept> group.</source>
            <target state="new">To ask the WCF workflow service to send the response message to the <bpt id="1">&lt;ui&gt;</bpt>responsequeue<ept id="1">&lt;/ui&gt;</ept>, select the <bpt id="2">&lt;ui&gt;</bpt>Queue<ept id="2">&lt;/ui&gt;</ept> radio button in the <bpt id="3">&lt;ui&gt;</bpt>Response Methods<ept id="3">&lt;/ui&gt;</ept> group.</target>
          </trans-unit>
        </group>
        <group id="183">
          <trans-unit id="285" translate="yes" xml:space="preserve">
            <source>To ask the WCF workflow service to send the response message to the <bpt id="1">&lt;ui&gt;</bpt>responsetopic<ept id="1">&lt;/ui&gt;</ept>, select the <bpt id="2">&lt;ui&gt;</bpt>Topic<ept id="2">&lt;/ui&gt;</ept> radio button in the <bpt id="3">&lt;ui&gt;</bpt>Response Methods<ept id="3">&lt;/ui&gt;</ept> group.</source>
            <target state="new">To ask the WCF workflow service to send the response message to the <bpt id="1">&lt;ui&gt;</bpt>responsetopic<ept id="1">&lt;/ui&gt;</ept>, select the <bpt id="2">&lt;ui&gt;</bpt>Topic<ept id="2">&lt;/ui&gt;</ept> radio button in the <bpt id="3">&lt;ui&gt;</bpt>Response Methods<ept id="3">&lt;/ui&gt;</ept> group.</target>
          </trans-unit>
        </group>
        <group id="184">
          <trans-unit id="286" translate="yes" xml:space="preserve">
            <source>The figure below shows the most interesting combination:</source>
            <target state="new">The figure below shows the most interesting combination:</target>
          </trans-unit>
        </group>
        <group id="185">
          <trans-unit id="287" translate="yes" xml:space="preserve">
            <source>The client sends a request message to the <bpt id="1">&lt;ui&gt;</bpt>requesttopic<ept id="1">&lt;/ui&gt;</ept>.</source>
            <target state="new">The client sends a request message to the <bpt id="1">&lt;ui&gt;</bpt>requesttopic<ept id="1">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="186">
          <trans-unit id="288" translate="yes" xml:space="preserve">
            <source>The WCF workflow service reads the request from the <bpt id="1">&lt;ui&gt;</bpt>ItalyMilan<ept id="1">&lt;/ui&gt;</ept> subscription for the <bpt id="2">&lt;ui&gt;</bpt>requesttopic<ept id="2">&lt;/ui&gt;</ept> and sends the response to the <bpt id="3">&lt;ui&gt;</bpt>responsetopic<ept id="3">&lt;/ui&gt;</ept>.</source>
            <target state="new">The WCF workflow service reads the request from the <bpt id="1">&lt;ui&gt;</bpt>ItalyMilan<ept id="1">&lt;/ui&gt;</ept> subscription for the <bpt id="2">&lt;ui&gt;</bpt>requesttopic<ept id="2">&lt;/ui&gt;</ept> and sends the response to the <bpt id="3">&lt;ui&gt;</bpt>responsetopic<ept id="3">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="187">
          <trans-unit id="289" translate="yes" xml:space="preserve">
            <source>The client application receives the response message from the <bpt id="1">&lt;ui&gt;</bpt>ItalyMilan<ept id="1">&lt;/ui&gt;</ept> subscription defined on the <bpt id="2">&lt;ui&gt;</bpt>responsetopic<ept id="2">&lt;/ui&gt;</ept>.</source>
            <target state="new">The client application receives the response message from the <bpt id="1">&lt;ui&gt;</bpt>ItalyMilan<ept id="1">&lt;/ui&gt;</ept> subscription defined on the <bpt id="2">&lt;ui&gt;</bpt>responsetopic<ept id="2">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="188">
          <trans-unit id="290" translate="yes" xml:space="preserve">
            <source>The following picture shows the information logged by the WCF workflow service on the standard output of the host console application:</source>
            <target state="new">The following picture shows the information logged by the WCF workflow service on the standard output of the host console application:</target>
          </trans-unit>
        </group>
        <group id="189">
          <trans-unit id="291" translate="yes" xml:space="preserve">
            <source>The following picture shows the information logged by the client application during the call:</source>
            <target state="new">The following picture shows the information logged by the client application during the call:</target>
          </trans-unit>
        </group>
        <group id="190">
          <trans-unit id="292" translate="yes" xml:space="preserve">
            <source>In particular, you can note the following:</source>
            <target state="new">In particular, you can note the following:</target>
          </trans-unit>
        </group>
        <group id="191">
          <trans-unit id="293" translate="yes" xml:space="preserve">
            <source>The request message was sent to the <bpt id="1">&lt;ui&gt;</bpt>requesttopic<ept id="1">&lt;/ui&gt;</ept>.</source>
            <target state="new">The request message was sent to the <bpt id="1">&lt;ui&gt;</bpt>requesttopic<ept id="1">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="192">
          <trans-unit id="294" translate="yes" xml:space="preserve">
            <source>The response message was received from the <bpt id="1">&lt;ui&gt;</bpt>responsetopic<ept id="1">&lt;/ui&gt;</ept>.</source>
            <target state="new">The response message was received from the <bpt id="1">&lt;ui&gt;</bpt>responsetopic<ept id="1">&lt;/ui&gt;</ept>.</target>
          </trans-unit>
        </group>
        <group id="193">
          <trans-unit id="295" translate="yes" xml:space="preserve">
            <source>The <bpt id="1">&lt;ui&gt;</bpt>CorrelationId<ept id="1">&lt;/ui&gt;</ept> of the response message is equal to the <bpt id="2">&lt;ui&gt;</bpt>MessageId<ept id="2">&lt;/ui&gt;</ept> of the request message.</source>
            <target state="new">The <bpt id="1">&lt;ui&gt;</bpt>CorrelationId<ept id="1">&lt;/ui&gt;</ept> of the response message is equal to the <bpt id="2">&lt;ui&gt;</bpt>MessageId<ept id="2">&lt;/ui&gt;</ept> of the request message.</target>
          </trans-unit>
        </group>
        <group id="194">
          <trans-unit id="296" translate="yes" xml:space="preserve">
            <source>The <bpt id="1">&lt;ui&gt;</bpt>Label<ept id="1">&lt;/ui&gt;</ept> property of the request message has been copied by the WCF workflow service to the <bpt id="2">&lt;ui&gt;</bpt>Label<ept id="2">&lt;/ui&gt;</ept> property of the response message.</source>
            <target state="new">The <bpt id="1">&lt;ui&gt;</bpt>Label<ept id="1">&lt;/ui&gt;</ept> property of the request message has been copied by the WCF workflow service to the <bpt id="2">&lt;ui&gt;</bpt>Label<ept id="2">&lt;/ui&gt;</ept> property of the response message.</target>
          </trans-unit>
        </group>
        <group id="195">
          <trans-unit id="297" translate="yes" xml:space="preserve">
            <source>All user-defined properties have been copied by the WCF workflow service from the request message to the response message.</source>
            <target state="new">All user-defined properties have been copied by the WCF workflow service from the request message to the response message.</target>
          </trans-unit>
        </group>
        <group id="196">
          <trans-unit id="298" translate="yes" xml:space="preserve">
            <source>The WCF workflow service added the <bpt id="1">&lt;ui&gt;</bpt>Source<ept id="1">&lt;/ui&gt;</ept> user-defined property to the response.</source>
            <target state="new">The WCF workflow service added the <bpt id="1">&lt;ui&gt;</bpt>Source<ept id="1">&lt;/ui&gt;</ept> user-defined property to the response.</target>
          </trans-unit>
        </group>
        <group id="197">
          <trans-unit id="299" translate="yes" xml:space="preserve">
            <source>The <bpt id="1">&lt;ui&gt;</bpt>Area<ept id="1">&lt;/ui&gt;</ept> property was added by the rule action defined on the <bpt id="2">&lt;ui&gt;</bpt>ItalyMilan<ept id="2">&lt;/ui&gt;</ept> subscription.</source>
            <target state="new">The <bpt id="1">&lt;ui&gt;</bpt>Area<ept id="1">&lt;/ui&gt;</ept> property was added by the rule action defined on the <bpt id="2">&lt;ui&gt;</bpt>ItalyMilan<ept id="2">&lt;/ui&gt;</ept> subscription.</target>
          </trans-unit>
        </group>
        <group id="198">
          <trans-unit id="300" translate="yes" xml:space="preserve">
            <source>Conclusions</source>
            <target state="new">Conclusions</target>
          </trans-unit>
        </group>
        <group id="199">
          <trans-unit id="301" translate="yes" xml:space="preserve">
            <source>In this article we have seen how to integrate a WCF workflow service with <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> brokered messaging and how to achieve full interoperability between these two technologies simply by using their native features and a custom activity to handle the <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>BrokeredMessageProperty<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.brokeredmessageproperty.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept>.</source>
            <target state="new">In this article we have seen how to integrate a WCF workflow service with <ph id="1">&lt;token&gt;sb2&lt;/token&gt;</ph> brokered messaging and how to achieve full interoperability between these two technologies simply by using their native features and a custom activity to handle the <bpt id="2">&lt;externalLink&gt;</bpt><bpt id="3">&lt;linkText&gt;</bpt>BrokeredMessageProperty<ept id="3">&lt;/linkText&gt;</ept><ph id="4">&lt;linkUri&gt;http://msdn.microsoft.com/library/microsoft.servicebus.messaging.brokeredmessageproperty.aspx&lt;/linkUri&gt;</ph><ept id="2">&lt;/externalLink&gt;</ept>.</target>
          </trans-unit>
          <trans-unit id="302" translate="yes" xml:space="preserve">
            <source>I look forward hearing your feedbacks and in the meantime you can download the companion code for this article from <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>MSDN Code Gallery<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://code.msdn.microsoft.com/How-to-integrate-a-WCF-43b08deb&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept>.</source>
            <target state="new">I look forward hearing your feedbacks and in the meantime you can download the companion code for this article from <bpt id="1">&lt;externalLink&gt;</bpt><bpt id="2">&lt;linkText&gt;</bpt>MSDN Code Gallery<ept id="2">&lt;/linkText&gt;</ept><ph id="3">&lt;linkUri&gt;http://code.msdn.microsoft.com/How-to-integrate-a-WCF-43b08deb&lt;/linkUri&gt;</ph><ept id="1">&lt;/externalLink&gt;</ept>.</target>
          </trans-unit>
        </group>
      </group>
    </body>
  </file>
</xliff>